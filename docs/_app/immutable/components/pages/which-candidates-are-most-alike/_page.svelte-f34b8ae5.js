import{S as ht,i as dt,s as Ye,k as M,K as z,q as X,e as ee,l as x,m as E,L as K,r as $,h as v,n as c,p as ne,M as Wr,b as q,G as w,N as zr,u as Ge,B as Ce,O as et,H as xi,P as pe,Q as ua,R as Ni,T as Je,g as Ie,t as J,d as Le,f as B,U as Cr,V as Kr,o as Jr,W as Oi,X as Ft,v as Oe,w as ke,x as Ze,y as Te,z as Ee,A as yr,a as Y,c as Z,Y as Hr,Z as ca,C as fa,D as ha,E as da,F as ma,_ as ga,$ as Yr,a0 as wn,a1 as _n,a2 as Zr,a3 as Di,a4 as ba,a5 as yn,a6 as va,a7 as wa,a8 as _a,I as ya,J as pn}from"../../../chunks/index-0bc29e7d.js";import{W as gr,T as pa}from"../../../chunks/wards.geo-6eaace54.js";import"../../../chunks/top-logo-2643ceab.js";import{t as ka,g as Ta,a as Ea,d as Ia,b as La,c as Sa}from"../../../chunks/ctWithResults.geo-7ca18a5a.js";import{w as Ca}from"../../../chunks/index-e3c5e538.js";import{_ as Qr}from"../../../chunks/preload-helper-b21cceae.js";function Pa(r){if(typeof r[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(r).reverse()}function Xr(r,e,t){r.prototype=e.prototype=t,t.constructor=r}function Ri(r,e){var t=Object.create(r.prototype);for(var n in e)t[n]=e[n];return t}function ar(){}var nr=.7,pr=1/nr,Jt="\\s*([+-]?\\d+)\\s*",ir="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ft="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Aa=/^#([0-9a-f]{3,8})$/,Ma=new RegExp(`^rgb\\(${Jt},${Jt},${Jt}\\)$`),xa=new RegExp(`^rgb\\(${ft},${ft},${ft}\\)$`),Na=new RegExp(`^rgba\\(${Jt},${Jt},${Jt},${ir}\\)$`),Oa=new RegExp(`^rgba\\(${ft},${ft},${ft},${ir}\\)$`),Da=new RegExp(`^hsl\\(${ir},${ft},${ft}\\)$`),Ra=new RegExp(`^hsla\\(${ir},${ft},${ft},${ir}\\)$`),kn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xr(ar,$r,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:Tn,formatHex:Tn,formatHex8:Fa,formatHsl:Ha,formatRgb:En,toString:En});function Tn(){return this.rgb().formatHex()}function Fa(){return this.rgb().formatHex8()}function Ha(){return Fi(this).formatHsl()}function En(){return this.rgb().formatRgb()}function $r(r){var e,t;return r=(r+"").trim().toLowerCase(),(e=Aa.exec(r))?(t=e[1].length,e=parseInt(e[1],16),t===6?In(e):t===3?new qe(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?br(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?br(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ma.exec(r))?new qe(e[1],e[2],e[3],1):(e=xa.exec(r))?new qe(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Na.exec(r))?br(e[1],e[2],e[3],e[4]):(e=Oa.exec(r))?br(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Da.exec(r))?Cn(e[1],e[2]/100,e[3]/100,1):(e=Ra.exec(r))?Cn(e[1],e[2]/100,e[3]/100,e[4]):kn.hasOwnProperty(r)?In(kn[r]):r==="transparent"?new qe(NaN,NaN,NaN,0):null}function In(r){return new qe(r>>16&255,r>>8&255,r&255,1)}function br(r,e,t,n){return n<=0&&(r=e=t=NaN),new qe(r,e,t,n)}function ja(r){return r instanceof ar||(r=$r(r)),r?(r=r.rgb(),new qe(r.r,r.g,r.b,r.opacity)):new qe}function kr(r,e,t,n){return arguments.length===1?ja(r):new qe(r,e,t,n==null?1:n)}function qe(r,e,t,n){this.r=+r,this.g=+e,this.b=+t,this.opacity=+n}Xr(qe,kr,Ri(ar,{brighter(r){return r=r==null?pr:Math.pow(pr,r),new qe(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?nr:Math.pow(nr,r),new qe(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new qe(Rt(this.r),Rt(this.g),Rt(this.b),Tr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ln,formatHex:Ln,formatHex8:qa,formatRgb:Sn,toString:Sn}));function Ln(){return`#${Dt(this.r)}${Dt(this.g)}${Dt(this.b)}`}function qa(){return`#${Dt(this.r)}${Dt(this.g)}${Dt(this.b)}${Dt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Sn(){const r=Tr(this.opacity);return`${r===1?"rgb(":"rgba("}${Rt(this.r)}, ${Rt(this.g)}, ${Rt(this.b)}${r===1?")":`, ${r})`}`}function Tr(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function Rt(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function Dt(r){return r=Rt(r),(r<16?"0":"")+r.toString(16)}function Cn(r,e,t,n){return n<=0?r=e=t=NaN:t<=0||t>=1?r=e=NaN:e<=0&&(r=NaN),new tt(r,e,t,n)}function Fi(r){if(r instanceof tt)return new tt(r.h,r.s,r.l,r.opacity);if(r instanceof ar||(r=$r(r)),!r)return new tt;if(r instanceof tt)return r;r=r.rgb();var e=r.r/255,t=r.g/255,n=r.b/255,i=Math.min(e,t,n),l=Math.max(e,t,n),a=NaN,o=l-i,s=(l+i)/2;return o?(e===l?a=(t-n)/o+(t<n)*6:t===l?a=(n-e)/o+2:a=(e-t)/o+4,o/=s<.5?l+i:2-l-i,a*=60):o=s>0&&s<1?0:a,new tt(a,o,s,r.opacity)}function Ba(r,e,t,n){return arguments.length===1?Fi(r):new tt(r,e,t,n==null?1:n)}function tt(r,e,t,n){this.h=+r,this.s=+e,this.l=+t,this.opacity=+n}Xr(tt,Ba,Ri(ar,{brighter(r){return r=r==null?pr:Math.pow(pr,r),new tt(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?nr:Math.pow(nr,r),new tt(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,e=isNaN(r)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*e,i=2*t-n;return new qe(xr(r>=240?r-240:r+120,i,n),xr(r,i,n),xr(r<120?r+240:r-120,i,n),this.opacity)},clamp(){return new tt(Pn(this.h),vr(this.s),vr(this.l),Tr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const r=Tr(this.opacity);return`${r===1?"hsl(":"hsla("}${Pn(this.h)}, ${vr(this.s)*100}%, ${vr(this.l)*100}%${r===1?")":`, ${r})`}`}}));function Pn(r){return r=(r||0)%360,r<0?r+360:r}function vr(r){return Math.max(0,Math.min(1,r||0))}function xr(r,e,t){return(r<60?e+(t-e)*r/60:r<180?t:r<240?e+(t-e)*(240-r)/60:e)*255}function Va(r,e,t,n,i){var l=r*r,a=l*r;return((1-3*r+3*l-a)*e+(4-6*l+3*a)*t+(1+3*r+3*l-3*a)*n+a*i)/6}function Ga(r){var e=r.length-1;return function(t){var n=t<=0?t=0:t>=1?(t=1,e-1):Math.floor(t*e),i=r[n],l=r[n+1],a=n>0?r[n-1]:2*i-l,o=n<e-1?r[n+2]:2*l-i;return Va((t-n/e)*e,a,i,l,o)}}const Hi=r=>()=>r;function Ua(r,e){return function(t){return r+t*e}}function Wa(r,e,t){return r=Math.pow(r,t),e=Math.pow(e,t)-r,t=1/t,function(n){return Math.pow(r+n*e,t)}}function za(r){return(r=+r)==1?ji:function(e,t){return t-e?Wa(e,t,r):Hi(isNaN(e)?t:e)}}function ji(r,e){var t=e-r;return t?Ua(r,t):Hi(isNaN(r)?e:r)}(function r(e){var t=za(e);function n(i,l){var a=t((i=kr(i)).r,(l=kr(l)).r),o=t(i.g,l.g),s=t(i.b,l.b),u=ji(i.opacity,l.opacity);return function(m){return i.r=a(m),i.g=o(m),i.b=s(m),i.opacity=u(m),i+""}}return n.gamma=r,n})(1);function Ka(r){return function(e){var t=e.length,n=new Array(t),i=new Array(t),l=new Array(t),a,o;for(a=0;a<t;++a)o=kr(e[a]),n[a]=o.r||0,i[a]=o.g||0,l[a]=o.b||0;return n=r(n),i=r(i),l=r(l),o.opacity=1,function(s){return o.r=n(s),o.g=i(s),o.b=l(s),o+""}}}var Ja=Ka(Ga),An={},Nr={},Or=34,tr=10,Dr=13;function qi(r){return new Function("d","return {"+r.map(function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'}).join(",")+"}")}function Ya(r,e){var t=qi(r);return function(n,i){return e(t(n),i,r)}}function Mn(r){var e=Object.create(null),t=[];return r.forEach(function(n){for(var i in n)i in e||t.push(e[i]=i)}),t}function je(r,e){var t=r+"",n=t.length;return n<e?new Array(e-n+1).join(0)+t:t}function Za(r){return r<0?"-"+je(-r,6):r>9999?"+"+je(r,6):je(r,4)}function Qa(r){var e=r.getUTCHours(),t=r.getUTCMinutes(),n=r.getUTCSeconds(),i=r.getUTCMilliseconds();return isNaN(r)?"Invalid Date":Za(r.getUTCFullYear())+"-"+je(r.getUTCMonth()+1,2)+"-"+je(r.getUTCDate(),2)+(i?"T"+je(e,2)+":"+je(t,2)+":"+je(n,2)+"."+je(i,3)+"Z":n?"T"+je(e,2)+":"+je(t,2)+":"+je(n,2)+"Z":t||e?"T"+je(e,2)+":"+je(t,2)+"Z":"")}function Bi(r){var e=new RegExp('["'+r+`
\r]`),t=r.charCodeAt(0);function n(h,d){var g,T,S=i(h,function(C,G){if(g)return g(C,G-1);T=C,g=d?Ya(C,d):qi(C)});return S.columns=T||[],S}function i(h,d){var g=[],T=h.length,S=0,C=0,G,j=T<=0,y=!1;h.charCodeAt(T-1)===tr&&--T,h.charCodeAt(T-1)===Dr&&--T;function _(){if(j)return Nr;if(y)return y=!1,An;var P,ue=S,V;if(h.charCodeAt(ue)===Or){for(;S++<T&&h.charCodeAt(S)!==Or||h.charCodeAt(++S)===Or;);return(P=S)>=T?j=!0:(V=h.charCodeAt(S++))===tr?y=!0:V===Dr&&(y=!0,h.charCodeAt(S)===tr&&++S),h.slice(ue+1,P-1).replace(/""/g,'"')}for(;S<T;){if((V=h.charCodeAt(P=S++))===tr)y=!0;else if(V===Dr)y=!0,h.charCodeAt(S)===tr&&++S;else if(V!==t)continue;return h.slice(ue,P)}return j=!0,h.slice(ue,T)}for(;(G=_())!==Nr;){for(var b=[];G!==An&&G!==Nr;)b.push(G),G=_();d&&(b=d(b,C++))==null||g.push(b)}return g}function l(h,d){return h.map(function(g){return d.map(function(T){return m(g[T])}).join(r)})}function a(h,d){return d==null&&(d=Mn(h)),[d.map(m).join(r)].concat(l(h,d)).join(`
`)}function o(h,d){return d==null&&(d=Mn(h)),l(h,d).join(`
`)}function s(h){return h.map(u).join(`
`)}function u(h){return h.map(m).join(r)}function m(h){return h==null?"":h instanceof Date?Qa(h):e.test(h+="")?'"'+h.replace(/"/g,'""')+'"':h}return{parse:n,parseRows:i,format:a,formatBody:o,formatRows:s,formatRow:u,formatValue:m}}var Vi=Bi(","),Xa=Vi.parse,$a=Vi.parseRows,Gi=Bi("	"),el=Gi.parse,tl=Gi.parseRows;function rl(r){for(var e in r){var t=r[e].trim(),n,i;if(!t)t=null;else if(t==="true")t=!0;else if(t==="false")t=!1;else if(t==="NaN")t=NaN;else if(!isNaN(n=+t))t=n;else if(i=t.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))nl&&!!i[4]&&!i[7]&&(t=t.replace(/-/g,"/").replace(/T/," ")),t=new Date(t);else continue;r[e]=t}return r}const nl=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function il(r){for(var e=r.length/6|0,t=new Array(e),n=0;n<e;)t[n]="#"+r.slice(n*6,++n*6);return t}const al=r=>Ja(r[r.length-1]);var ll=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(il);const ol=al(ll),sl=[{id:"Hall 1997",group:"1997"},{id:"Lastman 1997",group:"1997"},{id:"Lastman 2000",group:"2000"},{id:"Gomberg 2000",group:"2000"},{id:"Hall 2003",group:"2003"},{id:"Tory 2003",group:"2003"},{id:"Nunziata 2003",group:"2003"},{id:"Miller 2003",group:"2003"},{id:"Miller 2006",group:"2006"},{id:"Pitfield 2006",group:"2006"},{id:"R Ford 2010",group:"2010"},{id:"Smitherman 2010",group:"2010"},{id:"Pantalone 2010",group:"2010"},{id:"D Ford 2014",group:"2014"},{id:"Chow 2014",group:"2014"},{id:"Tory 2014",group:"2014"},{id:"Tory 2018",group:"2018"},{id:"Keesmaat 2018",group:"2018"},{id:"Tory 2022",group:"2022"},{id:"Penalosa 2022",group:"2022"},{id:"Brown 2022",group:"2022"}],ul=[{source:"Lastman 1997",target:"Hall 1997",value:-.952243632346017},{source:"Lastman 2000",target:"Hall 1997",value:-.773215073255902},{source:"Lastman 2000",target:"Lastman 1997",value:.794948638120152},{source:"Gomberg 2000",target:"Hall 1997",value:.726839108894834},{source:"Gomberg 2000",target:"Lastman 1997",value:-.714773383781032},{source:"Gomberg 2000",target:"Lastman 2000",value:-.84812500815472},{source:"Hall 2003",target:"Hall 1997",value:-.137381502254623},{source:"Hall 2003",target:"Lastman 1997",value:.0663577784005066},{source:"Hall 2003",target:"Lastman 2000",value:.0260704717692475},{source:"Hall 2003",target:"Gomberg 2000",value:-.353284469802301},{source:"Tory 2003",target:"Hall 1997",value:-.279471744045491},{source:"Tory 2003",target:"Lastman 1997",value:.335643578034784},{source:"Tory 2003",target:"Lastman 2000",value:.580836660492355},{source:"Tory 2003",target:"Gomberg 2000",value:-.395113526780469},{source:"Tory 2003",target:"Hall 2003",value:-.362671584633246},{source:"Nunziata 2003",target:"Hall 1997",value:-.300963365256247},{source:"Nunziata 2003",target:"Lastman 1997",value:.227347647929535},{source:"Nunziata 2003",target:"Lastman 2000",value:.083811636648766},{source:"Nunziata 2003",target:"Gomberg 2000",value:-.326899031643502},{source:"Nunziata 2003",target:"Hall 2003",value:.346038908957787},{source:"Nunziata 2003",target:"Tory 2003",value:-.206121203683019},{source:"Miller 2003",target:"Hall 1997",value:.426976065180665},{source:"Miller 2003",target:"Lastman 1997",value:-.379137503900553},{source:"Miller 2003",target:"Lastman 2000",value:-.468856376433641},{source:"Miller 2003",target:"Gomberg 2000",value:.713931736995382},{source:"Miller 2003",target:"Hall 2003",value:-.657765454021885},{source:"Miller 2003",target:"Tory 2003",value:-.354868500686575},{source:"Miller 2003",target:"Nunziata 2003",value:-.508508766827042},{source:"Miller 2006",target:"Hall 1997",value:.677237767110037},{source:"Miller 2006",target:"Lastman 1997",value:-.682926552847315},{source:"Miller 2006",target:"Lastman 2000",value:-.789013318713795},{source:"Miller 2006",target:"Gomberg 2000",value:.742821801767598},{source:"Miller 2006",target:"Hall 2003",value:-.0505763077312188},{source:"Miller 2006",target:"Tory 2003",value:-.499933875972956},{source:"Miller 2006",target:"Nunziata 2003",value:-.216052246398885},{source:"Miller 2006",target:"Miller 2003",value:.474327389780532},{source:"Pitfield 2006",target:"Hall 1997",value:-.453708002736905},{source:"Pitfield 2006",target:"Lastman 1997",value:.504557361819307},{source:"Pitfield 2006",target:"Lastman 2000",value:.697307021035937},{source:"Pitfield 2006",target:"Gomberg 2000",value:-.473724140055404},{source:"Pitfield 2006",target:"Hall 2003",value:-.37256970454054},{source:"Pitfield 2006",target:"Tory 2003",value:.635027657607956},{source:"Pitfield 2006",target:"Nunziata 2003",value:-.131993353941204},{source:"Pitfield 2006",target:"Miller 2003",value:-.0791657919341799},{source:"Pitfield 2006",target:"Miller 2006",value:-.844176982858783},{source:"R Ford 2010",target:"Hall 1997",value:-.667680007111638},{source:"R Ford 2010",target:"Lastman 1997",value:.661430133779795},{source:"R Ford 2010",target:"Lastman 2000",value:.735512063005062},{source:"R Ford 2010",target:"Gomberg 2000",value:-.815327259319505},{source:"R Ford 2010",target:"Hall 2003",value:.224876474394219},{source:"R Ford 2010",target:"Tory 2003",value:.347438302935212},{source:"R Ford 2010",target:"Nunziata 2003",value:.39069849840305},{source:"R Ford 2010",target:"Miller 2003",value:-.585747824659718},{source:"R Ford 2010",target:"Miller 2006",value:-.744257484979681},{source:"R Ford 2010",target:"Pitfield 2006",value:.50452874586939},{source:"Smitherman 2010",target:"Hall 1997",value:.646797774986028},{source:"Smitherman 2010",target:"Lastman 1997",value:-.61023618488475},{source:"Smitherman 2010",target:"Lastman 2000",value:-.553907951382952},{source:"Smitherman 2010",target:"Gomberg 2000",value:.736963364625109},{source:"Smitherman 2010",target:"Hall 2003",value:-.425497303148745},{source:"Smitherman 2010",target:"Tory 2003",value:-.0897227722183788},{source:"Smitherman 2010",target:"Nunziata 2003",value:-.589286153520709},{source:"Smitherman 2010",target:"Miller 2003",value:.649445521570681},{source:"Smitherman 2010",target:"Miller 2006",value:.607830796693744},{source:"Smitherman 2010",target:"Pitfield 2006",value:-.235297263168941},{source:"Smitherman 2010",target:"R Ford 2010",value:-.90480831717077},{source:"Pantalone 2010",target:"Hall 1997",value:.411638800488911},{source:"Pantalone 2010",target:"Lastman 1997",value:-.436534034890261},{source:"Pantalone 2010",target:"Lastman 2000",value:-.694253382193026},{source:"Pantalone 2010",target:"Gomberg 2000",value:.668552171732058},{source:"Pantalone 2010",target:"Hall 2003",value:-.0342698534549026},{source:"Pantalone 2010",target:"Tory 2003",value:-.543270993440784},{source:"Pantalone 2010",target:"Nunziata 2003",value:.10149798014159},{source:"Pantalone 2010",target:"Miller 2003",value:.401580427134371},{source:"Pantalone 2010",target:"Miller 2006",value:.568548541836262},{source:"Pantalone 2010",target:"Pitfield 2006",value:-.543601898263229},{source:"Pantalone 2010",target:"R Ford 2010",value:-.622706638240593},{source:"Pantalone 2010",target:"Smitherman 2010",value:.302593887216726},{source:"D Ford 2014",target:"Hall 1997",value:-.532499116913213},{source:"D Ford 2014",target:"Lastman 1997",value:.482899426356057},{source:"D Ford 2014",target:"Lastman 2000",value:.448185731842534},{source:"D Ford 2014",target:"Gomberg 2000",value:-.704182359456552},{source:"D Ford 2014",target:"Hall 2003",value:.63626061237066},{source:"D Ford 2014",target:"Tory 2003",value:-.0225515864472617},{source:"D Ford 2014",target:"Nunziata 2003",value:.612460583037128},{source:"D Ford 2014",target:"Miller 2003",value:-.746814958416999},{source:"D Ford 2014",target:"Miller 2006",value:-.458353981858403},{source:"D Ford 2014",target:"Pitfield 2006",value:.0231349774662534},{source:"D Ford 2014",target:"R Ford 2010",value:.795010395356337},{source:"D Ford 2014",target:"Smitherman 2010",value:-.908738699912366},{source:"D Ford 2014",target:"Pantalone 2010",value:-.329990681094448},{source:"Chow 2014",target:"Hall 1997",value:.667735686173937},{source:"Chow 2014",target:"Lastman 1997",value:-.679692793714018},{source:"Chow 2014",target:"Lastman 2000",value:-.829563430744553},{source:"Chow 2014",target:"Gomberg 2000",value:.797836857977896},{source:"Chow 2014",target:"Hall 2003",value:-.0720152713336389},{source:"Chow 2014",target:"Tory 2003",value:-.549039119153973},{source:"Chow 2014",target:"Nunziata 2003",value:-.217190435151244},{source:"Chow 2014",target:"Miller 2003",value:.535715146794237},{source:"Chow 2014",target:"Miller 2006",value:.802629711746306},{source:"Chow 2014",target:"Pitfield 2006",value:-.660982922403306},{source:"Chow 2014",target:"R Ford 2010",value:-.802131619824119},{source:"Chow 2014",target:"Smitherman 2010",value:.607023043728271},{source:"Chow 2014",target:"Pantalone 2010",value:.767785413720178},{source:"Chow 2014",target:"D Ford 2014",value:-.549199977248344},{source:"Tory 2014",target:"Hall 1997",value:.154589018461353},{source:"Tory 2014",target:"Lastman 1997",value:-.0863769368113904},{source:"Tory 2014",target:"Lastman 2000",value:.0651172698346268},{source:"Tory 2014",target:"Gomberg 2000",value:.271134282419757},{source:"Tory 2014",target:"Hall 2003",value:-.727707491737215},{source:"Tory 2014",target:"Tory 2003",value:.428454825805282},{source:"Tory 2014",target:"Nunziata 2003",value:-.567999797223627},{source:"Tory 2014",target:"Miller 2003",value:.519973506087727},{source:"Tory 2014",target:"Miller 2006",value:-.036940372315427},{source:"Tory 2014",target:"Pitfield 2006",value:.464073381320025},{source:"Tory 2014",target:"R Ford 2010",value:-.357075570262642},{source:"Tory 2014",target:"Smitherman 2010",value:.638208439154743},{source:"Tory 2014",target:"Pantalone 2010",value:-.1506807380245},{source:"Tory 2014",target:"D Ford 2014",value:-.794690322458457},{source:"Tory 2014",target:"Chow 2014",value:-.0668762586445913},{source:"Tory 2018",target:"Hall 1997",value:-.616180731444743},{source:"Tory 2018",target:"Lastman 1997",value:.655720013652508},{source:"Tory 2018",target:"Lastman 2000",value:.847122470604506},{source:"Tory 2018",target:"Gomberg 2000",value:-.684841983618711},{source:"Tory 2018",target:"Hall 2003",value:-.150103071653159},{source:"Tory 2018",target:"Tory 2003",value:.648106621316026},{source:"Tory 2018",target:"Nunziata 2003",value:-.0494006345367383},{source:"Tory 2018",target:"Miller 2003",value:-.315231307778861},{source:"Tory 2018",target:"Miller 2006",value:-.782109272655852},{source:"Tory 2018",target:"Pitfield 2006",value:.797266644772733},{source:"Tory 2018",target:"R Ford 2010",value:.647042958276865},{source:"Tory 2018",target:"Smitherman 2010",value:-.382428114348485},{source:"Tory 2018",target:"Pantalone 2010",value:-.748281868581343},{source:"Tory 2018",target:"D Ford 2014",value:.259656706125325},{source:"Tory 2018",target:"Chow 2014",value:-.886126806850774},{source:"Tory 2018",target:"Tory 2014",value:.333499136558868},{source:"Keesmaat 2018",target:"Hall 1997",value:.723372528321169},{source:"Keesmaat 2018",target:"Lastman 1997",value:-.733153739838405},{source:"Keesmaat 2018",target:"Lastman 2000",value:-.862865144287916},{source:"Keesmaat 2018",target:"Gomberg 2000",value:.881708334755031},{source:"Keesmaat 2018",target:"Hall 2003",value:-.23651668822767},{source:"Keesmaat 2018",target:"Tory 2003",value:-.476553866423682},{source:"Keesmaat 2018",target:"Nunziata 2003",value:-.200308318266664},{source:"Keesmaat 2018",target:"Miller 2003",value:.625303057527419},{source:"Keesmaat 2018",target:"Miller 2006",value:.786851691469179},{source:"Keesmaat 2018",target:"Pitfield 2006",value:-.579593187395837},{source:"Keesmaat 2018",target:"R Ford 2010",value:-.839658719006011},{source:"Keesmaat 2018",target:"Smitherman 2010",value:.68865835767487},{source:"Keesmaat 2018",target:"Pantalone 2010",value:.788902694478599},{source:"Keesmaat 2018",target:"D Ford 2014",value:-.645448663706542},{source:"Keesmaat 2018",target:"Chow 2014",value:.90919717123209},{source:"Keesmaat 2018",target:"Tory 2014",value:.123895356999021},{source:"Keesmaat 2018",target:"Tory 2018",value:-.850722494459003},{source:"Tory 2022",target:"Hall 1997",value:-.690299465958972},{source:"Tory 2022",target:"Lastman 1997",value:.716872574714827},{source:"Tory 2022",target:"Lastman 2000",value:.861554160141542},{source:"Tory 2022",target:"Gomberg 2000",value:-.749493845630669},{source:"Tory 2022",target:"Hall 2003",value:-.047270341984912},{source:"Tory 2022",target:"Tory 2003",value:.597871873649338},{source:"Tory 2022",target:"Nunziata 2003",value:.0517636162023913},{source:"Tory 2022",target:"Miller 2003",value:-.409594820319261},{source:"Tory 2022",target:"Miller 2006",value:-.792652887626014},{source:"Tory 2022",target:"Pitfield 2006",value:.737421150209034},{source:"Tory 2022",target:"R Ford 2010",value:.725854904878901},{source:"Tory 2022",target:"Smitherman 2010",value:-.502324330070169},{source:"Tory 2022",target:"Pantalone 2010",value:-.752731085094332},{source:"Tory 2022",target:"D Ford 2014",value:.400229789115537},{source:"Tory 2022",target:"Chow 2014",value:-.911179843077539},{source:"Tory 2022",target:"Tory 2014",value:.180140096253856},{source:"Tory 2022",target:"Tory 2018",value:.934823861127693},{source:"Tory 2022",target:"Keesmaat 2018",value:-.888158254284822},{source:"Penalosa 2022",target:"Hall 1997",value:.72044390187837},{source:"Penalosa 2022",target:"Lastman 1997",value:-.728631702419962},{source:"Penalosa 2022",target:"Lastman 2000",value:-.847599721479576},{source:"Penalosa 2022",target:"Gomberg 2000",value:.877663284072576},{source:"Penalosa 2022",target:"Hall 2003",value:-.258370909394302},{source:"Penalosa 2022",target:"Tory 2003",value:-.459404260867787},{source:"Penalosa 2022",target:"Nunziata 2003",value:-.205027545357772},{source:"Penalosa 2022",target:"Miller 2003",value:.635048768915846},{source:"Penalosa 2022",target:"Miller 2006",value:.757073663045929},{source:"Penalosa 2022",target:"Pitfield 2006",value:-.533887325127565},{source:"Penalosa 2022",target:"R Ford 2010",value:-.849322723313176},{source:"Penalosa 2022",target:"Smitherman 2010",value:.706413835981077},{source:"Penalosa 2022",target:"Pantalone 2010",value:.783340953900166},{source:"Penalosa 2022",target:"D Ford 2014",value:-.692198081442133},{source:"Penalosa 2022",target:"Chow 2014",value:.883694716813903},{source:"Penalosa 2022",target:"Tory 2014",value:.195952960353181},{source:"Penalosa 2022",target:"Tory 2018",value:-.792530683432249},{source:"Penalosa 2022",target:"Keesmaat 2018",value:.959758152586271},{source:"Penalosa 2022",target:"Tory 2022",value:-.881376105936252},{source:"Brown 2022",target:"Hall 1997",value:.562202591869337},{source:"Brown 2022",target:"Lastman 1997",value:-.601178620067404},{source:"Brown 2022",target:"Lastman 2000",value:-.715513982989393},{source:"Brown 2022",target:"Gomberg 2000",value:.569359355148516},{source:"Brown 2022",target:"Hall 2003",value:.122222177106853},{source:"Brown 2022",target:"Tory 2003",value:-.531458857711564},{source:"Brown 2022",target:"Nunziata 2003",value:.0500514393661697},{source:"Brown 2022",target:"Miller 2003",value:.26276518617466},{source:"Brown 2022",target:"Miller 2006",value:.65334448460845},{source:"Brown 2022",target:"Pitfield 2006",value:-.654663821688286},{source:"Brown 2022",target:"R Ford 2010",value:-.601536774606712},{source:"Brown 2022",target:"Smitherman 2010",value:.392652334700229},{source:"Brown 2022",target:"Pantalone 2010",value:.637706790981614},{source:"Brown 2022",target:"D Ford 2014",value:-.246443515519467},{source:"Brown 2022",target:"Chow 2014",value:.74074804974632},{source:"Brown 2022",target:"Tory 2014",value:-.23547632626431},{source:"Brown 2022",target:"Tory 2018",value:-.812025247144242},{source:"Brown 2022",target:"Keesmaat 2018",value:.753610184054264},{source:"Brown 2022",target:"Tory 2022",value:-.865338249108701},{source:"Brown 2022",target:"Penalosa 2022",value:.706144181540106}],Ui={nodes:sl,links:ul},ye={"Hall 1997":{main:"Hall 1997",ctid:"pcthall1997",fullname:"Barbara Hall",year:"1997",voteshare:"46.38",wikipedia:"https://en.wikipedia.org/wiki/Barbara_Hall_(politician)",won:"Lost",image:"hall",text:"One-term mayor of the pre-amalgamation City of Toronto, Cabbagetown lawyer, and community activist."},"Lastman 1997":{main:"Lastman 1997",ctid:"pctlastman1997",fullname:"Mel Lastman",year:"1997",voteshare:"51.92",wikipedia:"https://en.wikipedia.org/wiki/Mel_Lastman",won:"Won",image:"lastman",text:"Long-time mayor of the pre-amalgamation City of North York, founder of the \u2018Bad Boy\u2019 furniture retail chain."},"Lastman 2000":{main:"Lastman 2000",ctid:"pctlastman2000",fullname:"Mel Lastman",year:"2000",voteshare:"79.96",wikipedia:"https://en.wikipedia.org/wiki/Mel_Lastman",won:"Won",image:"lastman",text:"Long-time mayor of the pre-amalgamation City of North York, founder of the \u2018Bad Boy\u2019 furniture retail chain. Reelected to a second term in a landslide."},"Gomberg 2000":{main:"Gomberg 2000",ctid:"pctgomberg2000",fullname:"Tooker Gomberg",year:"2000",voteshare:"8.46",wikipedia:"https://en.wikipedia.org/wiki/Tooker_Gomberg",won:"Lost",image:"gomberg",text:"Environmentalist and activist who had once served as a councillor in Edmonton. Endorsed by Jane Jacobs."},"Hall 2003":{main:"Hall 2003",ctid:"pcthall2003",fullname:"Barbara Hall",year:"2003",voteshare:"9.21",wikipedia:"https://en.wikipedia.org/wiki/Barbara_Hall_(politician)",won:"Lost",image:"hall",text:"While starting out as the frontrunner in her second run for the mayoralty, fell behind Miller and Tory by election day."},"Tory 2003":{main:"Tory 2003",ctid:"pcttory2003",fullname:"John Tory",year:"2003",voteshare:"38.03",wikipedia:"https://en.wikipedia.org/wiki/John_Tory",won:"Lost",image:"tory",text:"Former federal and provincial Conservative Party insider, journalist and talk-show host, Rogers Media and Cable CEO, CFL commissioner, and lawyer. "},"Nunziata 2003":{main:"Nunziata 2003",ctid:"pctnunziata2003",fullname:"John Nunziata",year:"2003",voteshare:"5.2",wikipedia:"https://en.wikipedia.org/wiki/John_Nunziata",won:"Lost",image:"nunziata",text:"Lawyer, former federal Liberal and independent MP, and York borough councillor with populist leanings."},"Miller 2003":{main:"Miller 2003",ctid:"pctmiller2003",fullname:"David Miller",year:"2003",voteshare:"43.26",wikipedia:"https://en.wikipedia.org/wiki/David_Miller_(mayor_of_Toronto)",won:"Won",image:"miller",text:"Lawyer, sometime NDP candidate, Metro Toronto councillor, and megacity councillor identified with environmental issues and anti-corruption."},"Pitfield 2006":{main:"Pitfield 2006",ctid:"pctpitfield2006",fullname:"Jane Pitfield",year:"2006",voteshare:"32.32",wikipedia:"https://en.wikipedia.org/wiki/Jane_Pitfield",won:"Lost",image:"pitfield",text:"Leaside resident and former York borough councillor and city councillor."},"Miller 2006":{main:"Miller 2006",ctid:"pctmiller2006",fullname:"David Miller",year:"2006",voteshare:"56.97",wikipedia:"https://en.wikipedia.org/wiki/David_Miller_(mayor_of_Toronto)",won:"Won",image:"miller",text:"The city's second mayor was reelected on a platform of expanding transit and public amenities."},"R Ford 2010":{main:"R Ford 2010",ctid:"pctford2010",fullname:"Rob Ford",year:"2010",voteshare:"47.11",wikipedia:"https://en.wikipedia.org/wiki/Rob_Ford",won:"Won",image:"ford_rob",text:`Longtime populist Etobicoke city councillor and son of a former provincial Conservative MPP became Toronto's third mayor on a platform of "respect for taxpayers."`},"Smitherman 2010":{main:"Smitherman 2010",ctid:"pctsmitherman2010",fullname:"George Smitherman",year:"2010",voteshare:"35.61",wikipedia:"https://en.wikipedia.org/wiki/George_Smitherman",won:"Lost",image:"smitherman",text:"Former Barbara Hall mayoral staffer, Cabbagetown business-owner, provincial Liberal cabinet minister and deputer premier."},"Pantalone 2010":{main:"Pantalone 2010",ctid:"pctpantalone2010",fullname:"Joe Pantalone",year:"2010",voteshare:"11.73",wikipedia:"https://en.wikipedia.org/wiki/Joe_Pantalone",won:"Lost",image:"pantalone",text:"Former pre-amalgamation Toronto and Metro councillor, city councillor, and deputy mayor to David Miller, representing west-central neighbourhoods, including Little Italy."},"D Ford 2014":{main:"D Ford 2014",ctid:"pctford2014",fullname:"Doug Ford",year:"2014",voteshare:"40.28",wikipedia:"https://en.wikipedia.org/wiki/Doug_Ford",won:"Lost",image:"ford_doug",text:"Etobicoke businessman and one-term councillor replaced his brother Rob Ford as mayoral candidate, running on a populist, back-to-basics platform."},"Chow 2014":{main:"Chow 2014",ctid:"pctchow2014",fullname:"Olivia Chow",year:"2014",voteshare:"23.15",wikipedia:"https://en.wikipedia.org/wiki/Olivia_Chow",won:"Lost",image:"chow",text:"Artist, activist, former Metro councillor, city councillor, and federal NDP MP with deep roots in Toronto's Hong Kong Chinese community."},"Tory 2014":{main:"Tory 2014",ctid:"pcttory2014",fullname:"John Tory",year:"2014",voteshare:"33.73",wikipedia:"https://en.wikipedia.org/wiki/John_Tory",won:"Won",image:"tory",text:"Elected amalgamated Toronto's fourth mayor on a centrist platform after an unsuccessful tenure as provincial Conservative leader and serving as chair of CivicAction."},"Tory 2018":{main:"Tory 2018",ctid:"pcttory2018",fullname:"John Tory",year:"2018",voteshare:"63.49",wikipedia:"https://en.wikipedia.org/wiki/John_Tory",won:"Won",image:"tory",text:"Successfully ran for reelection to a second term."},"Keesmaat 2018":{main:"Keesmaat 2018",ctid:"pctkeesmaat2018",fullname:"Jennifer Keesmaat",year:"2018",voteshare:"23.59",wikipedia:"https://en.wikipedia.org/wiki/Jennifer_Keesmaat",won:"Lost",image:"keesmaat",text:"Urban planner with substantial experience in the private sector and chief planner of Toronto under Ford and Tory."},"Tory 2022":{main:"Tory 2022",ctid:"pcttory_john2022",fullname:"John Tory",year:"2022",voteshare:"62",wikipedia:"https://en.wikipedia.org/wiki/John_Tory",won:"Won",image:"tory",text:"Successfully ran for reelection to a third term."},"Penalosa 2022":{main:"Penalosa 2022",ctid:"pctpenalosa_gil2022",fullname:"Gil Penalosa",year:"2022",voteshare:"17.85",wikipedia:"",won:"Lost",image:"penalosa",text:"Colombian immigrant, urban policy consultant, and founder of the non-profit 8 80 Cities."},"Brown 2022":{main:"Brown 2022",ctid:"pctbrown_chloe_marie2022",fullname:"Chloe-Marie Brown",year:"2022",voteshare:"6.31",wikipedia:"",won:"Lost",image:"brown",text:"Policy analyst and former member of the Toronto Youth Cabinet."}};function xn(r,e,t){const n=r.slice();return n[13]=e[t],n}function Nn(r,e,t){const n=r.slice();return n[13]=e[t],n}function On(r,e,t){const n=r.slice();return n[13]=e[t],n}function Dn(r){let e,t;return{c(){e=z("path"),this.h()},l(n){e=K(n,"path",{class:!0,d:!0,fill:!0}),E(e).forEach(v),this.h()},h(){c(e,"class","ct svelte-1bix89x"),c(e,"d",t=r[3](r[13])),c(e,"fill",r[13].properties.colour)},m(n,i){q(n,e,i)},p(n,i){i&8&&t!==(t=n[3](n[13]))&&c(e,"d",t)},d(n){n&&v(e)}}}function Rn(r){let e,t;return{c(){e=z("path"),this.h()},l(n){e=K(n,"path",{class:!0,d:!0}),E(e).forEach(v),this.h()},h(){c(e,"class","wardwhite svelte-1bix89x"),c(e,"d",t=r[3](r[13]))},m(n,i){q(n,e,i)},p(n,i){i&8&&t!==(t=n[3](n[13]))&&c(e,"d",t)},d(n){n&&v(e)}}}function Fn(r){let e,t;return{c(){e=z("path"),this.h()},l(n){e=K(n,"path",{class:!0,d:!0}),E(e).forEach(v),this.h()},h(){c(e,"class","ward svelte-1bix89x"),c(e,"d",t=r[3](r[13]))},m(n,i){q(n,e,i)},p(n,i){i&8&&t!==(t=n[3](n[13]))&&c(e,"d",t)},d(n){n&&v(e)}}}function cl(r){let e,t,n,i="Map of electoral support for "+ye[r[0]].fullname+" in "+ye[r[0]].year,l,a,o,s,u,m,h="100%",d,g,T=r[6][7]*100+"%",S,C,G=r[6][5]*100+"%",j,y,_=r[6][3]*100+"%",b,P,ue=r[6][1]*100+"%",V,W,N="0%",Q,D,H,R,p,L,re,ie,he,de,me,fe,rt,Pe=r[7],oe=[];for(let A=0;A<Pe.length;A+=1)oe[A]=Dn(On(r,Pe,A));let Me=gr.features,ae=[];for(let A=0;A<Me.length;A+=1)ae[A]=Rn(Nn(r,Me,A));let k=gr.features,O=[];for(let A=0;A<k.length;A+=1)O[A]=Fn(xn(r,k,A));return{c(){e=M("div"),t=z("svg"),n=z("text"),l=X(i);for(let A=0;A<oe.length;A+=1)oe[A].c();a=ee();for(let A=0;A<ae.length;A+=1)ae[A].c();o=ee();for(let A=0;A<O.length;A+=1)O[A].c();s=z("text"),u=X("% of the vote by CT"),m=z("text"),d=X(h),g=z("text"),S=X(T),C=z("text"),j=X(G),y=z("text"),b=X(_),P=z("text"),V=X(ue),W=z("text"),Q=X(N),D=z("rect"),H=z("rect"),R=z("rect"),p=z("rect"),L=z("rect"),re=z("rect"),ie=z("rect"),he=z("rect"),de=z("rect"),me=z("rect"),fe=z("rect"),this.h()},l(A){e=x(A,"DIV",{});var le=E(e);t=K(le,"svg",{width:!0,height:!0,id:!0,class:!0});var I=E(t);n=K(I,"text",{class:!0,x:!0,y:!0});var ve=E(n);l=$(ve,i),ve.forEach(v);for(let _e=0;_e<oe.length;_e+=1)oe[_e].l(I);a=ee();for(let _e=0;_e<ae.length;_e+=1)ae[_e].l(I);o=ee();for(let _e=0;_e<O.length;_e+=1)O[_e].l(I);s=K(I,"text",{class:!0,x:!0,y:!0});var Ue=E(s);u=$(Ue,"% of the vote by CT"),Ue.forEach(v),m=K(I,"text",{class:!0,x:!0,y:!0});var nt=E(m);d=$(nt,h),nt.forEach(v),g=K(I,"text",{class:!0,x:!0,y:!0});var Se=E(g);S=$(Se,T),Se.forEach(v),C=K(I,"text",{class:!0,x:!0,y:!0});var Qe=E(C);j=$(Qe,G),Qe.forEach(v),y=K(I,"text",{class:!0,x:!0,y:!0});var it=E(y);b=$(it,_),it.forEach(v),P=K(I,"text",{class:!0,x:!0,y:!0});var mt=E(P);V=$(mt,ue),mt.forEach(v),W=K(I,"text",{class:!0,x:!0,y:!0});var Be=E(W);Q=$(Be,N),Be.forEach(v),D=K(I,"rect",{class:!0,width:!0,height:!0,x:!0,y:!0,style:!0}),E(D).forEach(v),H=K(I,"rect",{class:!0,width:!0,height:!0,x:!0,y:!0,style:!0}),E(H).forEach(v),R=K(I,"rect",{class:!0,width:!0,height:!0,x:!0,y:!0,style:!0}),E(R).forEach(v),p=K(I,"rect",{class:!0,width:!0,height:!0,x:!0,y:!0,style:!0}),E(p).forEach(v),L=K(I,"rect",{class:!0,width:!0,height:!0,x:!0,y:!0,style:!0}),E(L).forEach(v),re=K(I,"rect",{class:!0,width:!0,height:!0,x:!0,y:!0,style:!0}),E(re).forEach(v),ie=K(I,"rect",{class:!0,width:!0,height:!0,x:!0,y:!0,style:!0}),E(ie).forEach(v),he=K(I,"rect",{class:!0,width:!0,height:!0,x:!0,y:!0,style:!0}),E(he).forEach(v),de=K(I,"rect",{class:!0,width:!0,height:!0,x:!0,y:!0,style:!0}),E(de).forEach(v),me=K(I,"rect",{class:!0,width:!0,height:!0,x:!0,y:!0,style:!0}),E(me).forEach(v),fe=K(I,"rect",{class:!0,width:!0,height:!0,x:!0,y:!0,style:!0}),E(fe).forEach(v),I.forEach(v),le.forEach(v),this.h()},h(){c(n,"class","label svelte-1bix89x"),c(n,"x","12"),c(n,"y","22"),c(s,"class","label svelte-1bix89x"),c(s,"x","25"),c(s,"y","245"),c(m,"class","label svelte-1bix89x"),c(m,"x","215"),c(m,"y","275"),c(g,"class","label svelte-1bix89x"),c(g,"x","175"),c(g,"y","275"),c(C,"class","label svelte-1bix89x"),c(C,"x","135"),c(C,"y","275"),c(y,"class","label svelte-1bix89x"),c(y,"x","95"),c(y,"y","275"),c(P,"class","label svelte-1bix89x"),c(P,"x","55"),c(P,"y","275"),c(W,"class","label svelte-1bix89x"),c(W,"x","20"),c(W,"y","275"),c(D,"class","box"),c(D,"width","202"),c(D,"height","12"),c(D,"x","24"),c(D,"y","249"),ne(D,"fill","black"),ne(D,"stroke","none"),c(H,"class","box"),c(H,"width","20"),c(H,"height","10"),c(H,"x","205"),c(H,"y","250"),ne(H,"fill",r[5][9]),ne(H,"stroke","white"),c(R,"class","box"),c(R,"width","20"),c(R,"height","10"),c(R,"x","185"),c(R,"y","250"),ne(R,"fill",r[5][8]),ne(R,"stroke","white"),c(p,"class","box"),c(p,"width","20"),c(p,"height","10"),c(p,"x","165"),c(p,"y","250"),ne(p,"fill",r[5][7]),ne(p,"stroke","white"),c(L,"class","box"),c(L,"width","20"),c(L,"height","10"),c(L,"x","145"),c(L,"y","250"),ne(L,"fill",r[5][6]),ne(L,"stroke","white"),c(re,"class","box"),c(re,"width","20"),c(re,"height","10"),c(re,"x","125"),c(re,"y","250"),ne(re,"fill",r[5][5]),ne(re,"stroke","white"),c(ie,"class","box"),c(ie,"width","20"),c(ie,"height","10"),c(ie,"x","105"),c(ie,"y","250"),ne(ie,"fill",r[5][4]),ne(ie,"stroke","white"),c(he,"class","box"),c(he,"width","20"),c(he,"height","10"),c(he,"x","85"),c(he,"y","250"),ne(he,"fill",r[5][3]),ne(he,"stroke","white"),c(de,"class","box"),c(de,"width","20"),c(de,"height","10"),c(de,"x","65"),c(de,"y","250"),ne(de,"fill",r[5][2]),ne(de,"stroke","white"),c(me,"class","box"),c(me,"width","20"),c(me,"height","10"),c(me,"x","45"),c(me,"y","250"),ne(me,"fill",r[5][1]),ne(me,"stroke","white"),c(fe,"class","box"),c(fe,"width","20"),c(fe,"height","10"),c(fe,"x","25"),c(fe,"y","250"),ne(fe,"fill",r[5][0]),ne(fe,"stroke","white"),c(t,"width",r[2]),c(t,"height",r[4]),c(t,"id","back"),c(t,"class","svelte-1bix89x"),Wr(()=>r[11].call(e))},m(A,le){q(A,e,le),w(e,t),w(t,n),w(n,l);for(let I=0;I<oe.length;I+=1)oe[I].m(t,null);w(t,a);for(let I=0;I<ae.length;I+=1)ae[I].m(t,null);w(t,o);for(let I=0;I<O.length;I+=1)O[I].m(t,null);w(t,s),w(s,u),w(t,m),w(m,d),w(t,g),w(g,S),w(t,C),w(C,j),w(t,y),w(y,b),w(t,P),w(P,V),w(t,W),w(W,Q),w(t,D),w(t,H),w(t,R),w(t,p),w(t,L),w(t,re),w(t,ie),w(t,he),w(t,de),w(t,me),w(t,fe),rt=zr(e,r[11].bind(e))},p(A,[le]){if(le&1&&i!==(i="Map of electoral support for "+ye[A[0]].fullname+" in "+ye[A[0]].year)&&Ge(l,i),le&136){Pe=A[7];let I;for(I=0;I<Pe.length;I+=1){const ve=On(A,Pe,I);oe[I]?oe[I].p(ve,le):(oe[I]=Dn(ve),oe[I].c(),oe[I].m(t,a))}for(;I<oe.length;I+=1)oe[I].d(1);oe.length=Pe.length}if(le&8){Me=gr.features;let I;for(I=0;I<Me.length;I+=1){const ve=Nn(A,Me,I);ae[I]?ae[I].p(ve,le):(ae[I]=Rn(ve),ae[I].c(),ae[I].m(t,o))}for(;I<ae.length;I+=1)ae[I].d(1);ae.length=Me.length}if(le&8){k=gr.features;let I;for(I=0;I<k.length;I+=1){const ve=xn(A,k,I);O[I]?O[I].p(ve,le):(O[I]=Fn(ve),O[I].c(),O[I].m(t,s))}for(;I<O.length;I+=1)O[I].d(1);O.length=k.length}le&4&&c(t,"width",A[2]),le&16&&c(t,"height",A[4])},i:Ce,o:Ce,d(A){A&&v(e),et(oe,A),et(ae,A),et(O,A),rt()}}}function fl(r,e,t){let n,i,l,a,o,{candidate:s}=e,{tracts:u}=e,m=["#fff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b","#021530"];var h=[.1,.2,.3,.4,.5,.6,.7,.8,.9];let d=420;var g=u.features,T=ka().domain(h).range(m);function S(){d=this.offsetWidth,t(1,d)}return r.$$set=C=>{"candidate"in C&&t(0,s=C.candidate),"tracts"in C&&t(8,u=C.tracts)},r.$$.update=()=>{r.$$.dirty&1&&t(9,n=ye[s].ctid),r.$$.dirty&2&&t(2,i=d),r.$$.dirty&4&&t(4,l=10+i/1.55),r.$$.dirty&4&&t(10,a=Ta().center([-78.155-.00239*i+1125e-9*i**2,43.54+45e-5*i-25e-8*i**2]).scale([82e3*i/800]).angle([-17])),r.$$.dirty&1024&&t(3,o=Ea(a)),r.$$.dirty&512&&g.map(C=>{C.properties[n]?C.properties.colour=T(C.properties[n]):C.properties.colour="white"})},[s,d,i,o,l,m,h,g,u,n,a,S]}class hl extends ht{constructor(e){super(),dt(this,e,fl,cl,Ye,{candidate:0,tracts:8})}}const Er=Ca("Tory 2022");function Hn(r,e,t){const n=r.slice();return n[6]=e[t],n[8]=t,n}function jn(r,e,t){const n=r.slice();return n[6]=e[t],n[8]=t,n}function qn(r,e,t){const n=r.slice();return n[6]=e[t],n[8]=t,n}function Bn(r,e,t){const n=r.slice();return n[6]=e[t],n[8]=t,n}function Vn(r,e,t){const n=r.slice();return n[6]=e[t],n[8]=t,n}function Gn(r){let e;return{c(){e=z("rect"),this.h()},l(t){e=K(t,"rect",{class:!0,width:!0,height:!0,x:!0,y:!0,style:!0}),E(e).forEach(v),this.h()},h(){c(e,"class","box svelte-1aq7w2g"),c(e,"width","50"),c(e,"height","17"),c(e,"x","10"),c(e,"y",33+r[8]*18),ne(e,"fill",r[6].colour)},m(t,n){q(t,e,n)},p(t,n){n&1&&ne(e,"fill",t[6].colour)},d(t){t&&v(e)}}}function Un(r){let e;return{c(){e=z("rect"),this.h()},l(t){e=K(t,"rect",{class:!0,width:!0,height:!0,x:!0,y:!0,style:!0}),E(e).forEach(v),this.h()},h(){c(e,"class","box svelte-1aq7w2g"),c(e,"width","130"),c(e,"height","17"),c(e,"x","61"),c(e,"y",33+r[8]*18),ne(e,"fill",r[6].colour)},m(t,n){q(t,e,n)},p(t,n){n&1&&ne(e,"fill",t[6].colour)},d(t){t&&v(e)}}}function Wn(r){let e,t=r[6].compare+"",n;return{c(){e=z("text"),n=X(t),this.h()},l(i){e=K(i,"text",{class:!0,x:!0,y:!0});var l=E(e);n=$(l,t),l.forEach(v),this.h()},h(){c(e,"class","label svelte-1aq7w2g"),c(e,"x","67"),c(e,"y",47+r[8]*18)},m(i,l){q(i,e,l),w(e,n)},p(i,l){l&1&&t!==(t=i[6].compare+"")&&Ge(n,t)},d(i){i&&v(e)}}}function dl(r){let e,t=r[6].value.toFixed(2)+"",n;return{c(){e=z("text"),n=X(t),this.h()},l(i){e=K(i,"text",{class:!0,x:!0,y:!0});var l=E(e);n=$(l,t),l.forEach(v),this.h()},h(){c(e,"class","label svelte-1aq7w2g"),c(e,"x","20.5"),c(e,"y",47+r[8]*18)},m(i,l){q(i,e,l),w(e,n)},p(i,l){l&1&&t!==(t=i[6].value.toFixed(2)+"")&&Ge(n,t)},d(i){i&&v(e)}}}function ml(r){let e,t=r[6].value.toFixed(2)+"",n;return{c(){e=z("text"),n=X(t),this.h()},l(i){e=K(i,"text",{class:!0,x:!0,y:!0});var l=E(e);n=$(l,t),l.forEach(v),this.h()},h(){c(e,"class","label svelte-1aq7w2g"),c(e,"x","24"),c(e,"y",47+r[8]*18)},m(i,l){q(i,e,l),w(e,n)},p(i,l){l&1&&t!==(t=i[6].value.toFixed(2)+"")&&Ge(n,t)},d(i){i&&v(e)}}}function zn(r){let e;function t(l,a){return l[6].value>=0?ml:dl}let n=t(r),i=n(r);return{c(){i.c(),e=ee()},l(l){i.l(l),e=ee()},m(l,a){i.m(l,a),q(l,e,a)},p(l,a){n===(n=t(l))&&i?i.p(l,a):(i.d(1),i=n(l),i&&(i.c(),i.m(e.parentNode,e)))},d(l){i.d(l),l&&v(e)}}}function Kn(r){let e,t,n;return{c(){e=z("rect"),this.h()},l(i){e=K(i,"rect",{class:!0,width:!0,height:!0,x:!0,y:!0}),E(e).forEach(v),this.h()},h(){c(e,"class","select svelte-1aq7w2g"),c(e,"width","181"),c(e,"height","17"),c(e,"x","10"),c(e,"y",33+r[8]*18)},m(i,l){q(i,e,l),t||(n=pe(e,"click",function(){ua(r[1](r[6].compare))&&r[1](r[6].compare).apply(this,arguments)},{once:!0}),t=!0)},p(i,l){r=i},d(i){i&&v(e),t=!1,n()}}}function gl(r){let e,t,n,i,l,a,o,s,u=r[0],m=[];for(let y=0;y<u.length;y+=1)m[y]=Gn(Vn(r,u,y));let h=r[0],d=[];for(let y=0;y<h.length;y+=1)d[y]=Un(Bn(r,h,y));let g=r[0],T=[];for(let y=0;y<g.length;y+=1)T[y]=Wn(qn(r,g,y));let S=r[0],C=[];for(let y=0;y<S.length;y+=1)C[y]=zn(jn(r,S,y));let G=r[0],j=[];for(let y=0;y<G.length;y+=1)j[y]=Kn(Hn(r,G,y));return{c(){e=z("svg"),t=z("text"),n=X(`Candidates ranked by similarity
    `);for(let y=0;y<m.length;y+=1)m[y].c();i=ee();for(let y=0;y<d.length;y+=1)d[y].c();l=ee();for(let y=0;y<T.length;y+=1)T[y].c();a=ee();for(let y=0;y<C.length;y+=1)C[y].c();o=ee();for(let y=0;y<j.length;y+=1)j[y].c();s=z("rect"),this.h()},l(y){e=K(y,"svg",{width:!0,height:!0});var _=E(e);t=K(_,"text",{class:!0,x:!0,y:!0});var b=E(t);n=$(b,`Candidates ranked by similarity
    `),b.forEach(v);for(let P=0;P<m.length;P+=1)m[P].l(_);i=ee();for(let P=0;P<d.length;P+=1)d[P].l(_);l=ee();for(let P=0;P<T.length;P+=1)T[P].l(_);a=ee();for(let P=0;P<C.length;P+=1)C[P].l(_);o=ee();for(let P=0;P<j.length;P+=1)j[P].l(_);s=K(_,"rect",{class:!0,width:!0,height:!0,x:!0,y:!0}),E(s).forEach(v),_.forEach(v),this.h()},h(){c(t,"class","label svelte-1aq7w2g"),c(t,"x","10"),c(t,"y","22"),c(s,"class","bg svelte-1aq7w2g"),c(s,"width","183"),c(s,"height","361"),c(s,"x","9"),c(s,"y","32"),c(e,"width","200"),c(e,"height","400")},m(y,_){q(y,e,_),w(e,t),w(t,n);for(let b=0;b<m.length;b+=1)m[b].m(e,null);w(e,i);for(let b=0;b<d.length;b+=1)d[b].m(e,null);w(e,l);for(let b=0;b<T.length;b+=1)T[b].m(e,null);w(e,a);for(let b=0;b<C.length;b+=1)C[b].m(e,null);w(e,o);for(let b=0;b<j.length;b+=1)j[b].m(e,null);w(e,s)},p(y,[_]){if(_&1){u=y[0];let b;for(b=0;b<u.length;b+=1){const P=Vn(y,u,b);m[b]?m[b].p(P,_):(m[b]=Gn(P),m[b].c(),m[b].m(e,i))}for(;b<m.length;b+=1)m[b].d(1);m.length=u.length}if(_&1){h=y[0];let b;for(b=0;b<h.length;b+=1){const P=Bn(y,h,b);d[b]?d[b].p(P,_):(d[b]=Un(P),d[b].c(),d[b].m(e,l))}for(;b<d.length;b+=1)d[b].d(1);d.length=h.length}if(_&1){g=y[0];let b;for(b=0;b<g.length;b+=1){const P=qn(y,g,b);T[b]?T[b].p(P,_):(T[b]=Wn(P),T[b].c(),T[b].m(e,a))}for(;b<T.length;b+=1)T[b].d(1);T.length=g.length}if(_&1){S=y[0];let b;for(b=0;b<S.length;b+=1){const P=jn(y,S,b);C[b]?C[b].p(P,_):(C[b]=zn(P),C[b].c(),C[b].m(e,o))}for(;b<C.length;b+=1)C[b].d(1);C.length=S.length}if(_&3){G=y[0];let b;for(b=0;b<G.length;b+=1){const P=Hn(y,G,b);j[b]?j[b].p(P,_):(j[b]=Kn(P),j[b].c(),j[b].m(e,s))}for(;b<j.length;b+=1)j[b].d(1);j.length=G.length}},i:Ce,o:Ce,d(y){y&&v(e),et(m,y),et(d,y),et(T,y),et(C,y),et(j,y)}}}function bl(r,e,t){let n,i,l;xi(r,Er,u=>t(4,l=u));let{candidate:a}=e;var o=Ui.links;function s(u){console.log(u),Ni(Er,l=u,l)}return r.$$set=u=>{"candidate"in u&&t(2,a=u.candidate)},r.$$.update=()=>{r.$$.dirty&16&&t(3,n=o.filter(u=>u.source===l||u.target===l)),r.$$.dirty&24&&n.map(u=>{u.source===l?u.compare=u.target:u.compare=u.source}),r.$$.dirty&8&&t(0,i=n.map(u=>({compare:u.compare,value:u.value,colour:ol((u.value+1)/2)}))),r.$$.dirty&1&&i.sort((u,m)=>m.value-u.value)},[i,s,a,n,l]}class vl extends ht{constructor(e){super(),dt(this,e,bl,gl,Ye,{candidate:2})}}function wl(r,e){const t=r.getBoundingClientRect(),n=e.getBoundingClientRect(),i={};return i.top=t.top<0,i.left=t.left<0,i.bottom=t.bottom+n.height>(window.innerHeight||document.documentElement.clientHeight),i.right=t.right>(window.innerWidth||document.documentElement.clientWidth),i.any=i.top||i.left||i.bottom||i.right,i}function _l(r){let e,t=r[0](r[1],r[2])+"",n;return{c(){e=M("div"),this.h()},l(i){e=x(i,"DIV",{class:!0});var l=E(e);l.forEach(v),this.h()},h(){c(e,"class",n="item "+r[3]+" svelte-3e0qet")},m(i,l){q(i,e,l),e.innerHTML=t},p(i,[l]){l&7&&t!==(t=i[0](i[1],i[2])+"")&&(e.innerHTML=t),l&8&&n!==(n="item "+i[3]+" svelte-3e0qet")&&c(e,"class",n)},i:Ce,o:Ce,d(i){i&&v(e)}}}function yl(r,e,t){let{isActive:n=!1}=e,{isFirst:i=!1}=e,{isHover:l=!1}=e,{isSelectable:a=!1}=e,{getOptionLabel:o=void 0}=e,{item:s=void 0}=e,{filterText:u=""}=e,m="";return r.$$set=h=>{"isActive"in h&&t(4,n=h.isActive),"isFirst"in h&&t(5,i=h.isFirst),"isHover"in h&&t(6,l=h.isHover),"isSelectable"in h&&t(7,a=h.isSelectable),"getOptionLabel"in h&&t(0,o=h.getOptionLabel),"item"in h&&t(1,s=h.item),"filterText"in h&&t(2,u=h.filterText)},r.$$.update=()=>{if(r.$$.dirty&242){const h=[];n&&h.push("active"),i&&h.push("first"),l&&h.push("hover"),s.isGroupHeader&&h.push("groupHeader"),s.isGroupItem&&h.push("groupItem"),a||h.push("notSelectable"),t(3,m=h.join(" "))}},[o,s,u,m,n,i,l,a]}class Wi extends ht{constructor(e){super(),dt(this,e,yl,_l,Ye,{isActive:4,isFirst:5,isHover:6,isSelectable:7,getOptionLabel:0,item:1,filterText:2})}}function Jn(r,e,t){const n=r.slice();return n[41]=e[t],n[42]=t,n}function pl(r){let e,t,n=r[1],i=[];for(let o=0;o<n.length;o+=1)i[o]=Qn(Jn(r,n,o));const l=o=>J(i[o],1,1,()=>{i[o]=null});let a=null;return n.length||(a=Yn(r)),{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=ee(),a&&a.c()},l(o){for(let s=0;s<i.length;s+=1)i[s].l(o);e=ee(),a&&a.l(o)},m(o,s){for(let u=0;u<i.length;u+=1)i[u].m(o,s);q(o,e,s),a&&a.m(o,s),t=!0},p(o,s){if(s[0]&114390){n=o[1];let u;for(u=0;u<n.length;u+=1){const m=Jn(o,n,u);i[u]?(i[u].p(m,s),B(i[u],1)):(i[u]=Qn(m),i[u].c(),B(i[u],1),i[u].m(e.parentNode,e))}for(Ie(),u=n.length;u<i.length;u+=1)l(u);Le(),!n.length&&a?a.p(o,s):n.length?a&&(a.d(1),a=null):(a=Yn(o),a.c(),a.m(e.parentNode,e))}},i(o){if(!t){for(let s=0;s<n.length;s+=1)B(i[s]);t=!0}},o(o){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)J(i[s]);t=!1},d(o){et(i,o),o&&v(e),a&&a.d(o)}}}function kl(r){let e,t,n;var i=r[3];function l(a){return{props:{items:a[1],itemHeight:a[8],$$slots:{default:[Il,({item:o,i:s})=>({41:o,42:s}),({item:o,i:s})=>[0,(o?1024:0)|(s?2048:0)]]},$$scope:{ctx:a}}}}return i&&(e=Oe(i,l(r))),{c(){e&&ke(e.$$.fragment),t=ee()},l(a){e&&Ze(e.$$.fragment,a),t=ee()},m(a,o){e&&Te(e,a,o),q(a,t,o),n=!0},p(a,o){const s={};if(o[0]&2&&(s.items=a[1]),o[0]&256&&(s.itemHeight=a[8]),o[0]&9814|o[1]&11264&&(s.$$scope={dirty:o,ctx:a}),i!==(i=a[3])){if(e){Ie();const u=e;J(u.$$.fragment,1,0,()=>{Ee(u,1)}),Le()}i?(e=Oe(i,l(a)),ke(e.$$.fragment),B(e.$$.fragment,1),Te(e,t.parentNode,t)):e=null}else i&&e.$set(s)},i(a){n||(e&&B(e.$$.fragment,a),n=!0)},o(a){e&&J(e.$$.fragment,a),n=!1},d(a){a&&v(t),e&&Ee(e,a)}}}function Yn(r){let e,t=!r[11]&&Zn(r);return{c(){t&&t.c(),e=ee()},l(n){t&&t.l(n),e=ee()},m(n,i){t&&t.m(n,i),q(n,e,i)},p(n,i){n[11]?t&&(t.d(1),t=null):t?t.p(n,i):(t=Zn(n),t.c(),t.m(e.parentNode,e))},d(n){t&&t.d(n),n&&v(e)}}}function Zn(r){let e,t;return{c(){e=M("div"),t=X(r[12]),this.h()},l(n){e=x(n,"DIV",{class:!0});var i=E(e);t=$(i,r[12]),i.forEach(v),this.h()},h(){c(e,"class","empty svelte-1uyqfml")},m(n,i){q(n,e,i),w(e,t)},p(n,i){i[0]&4096&&Ge(t,n[12])},d(n){n&&v(e)}}}function Tl(r){let e,t,n,i,l,a;var o=r[4];function s(d){return{props:{item:d[41],filterText:d[13],getOptionLabel:d[6],isFirst:jr(d[42]),isActive:Ir(d[41],d[9],d[10]),isHover:Lr(d[2],d[41],d[42],d[1]),isSelectable:Ht(d[41])}}}o&&(t=Oe(o,s(r)));function u(){return r[29](r[42])}function m(){return r[30](r[42])}function h(...d){return r[31](r[41],r[42],...d)}return{c(){e=M("div"),t&&ke(t.$$.fragment),n=Y(),this.h()},l(d){e=x(d,"DIV",{class:!0,tabindex:!0});var g=E(e);t&&Ze(t.$$.fragment,g),n=Z(g),g.forEach(v),this.h()},h(){c(e,"class","listItem"),c(e,"tabindex","-1")},m(d,g){q(d,e,g),t&&Te(t,e,null),w(e,n),i=!0,l||(a=[pe(e,"mouseover",u),pe(e,"focus",m),pe(e,"click",h)],l=!0)},p(d,g){r=d;const T={};if(g[0]&2&&(T.item=r[41]),g[0]&8192&&(T.filterText=r[13]),g[0]&64&&(T.getOptionLabel=r[6]),g[0]&1538&&(T.isActive=Ir(r[41],r[9],r[10])),g[0]&6&&(T.isHover=Lr(r[2],r[41],r[42],r[1])),g[0]&2&&(T.isSelectable=Ht(r[41])),o!==(o=r[4])){if(t){Ie();const S=t;J(S.$$.fragment,1,0,()=>{Ee(S,1)}),Le()}o?(t=Oe(o,s(r)),ke(t.$$.fragment),B(t.$$.fragment,1),Te(t,e,n)):t=null}else o&&t.$set(T)},i(d){i||(t&&B(t.$$.fragment,d),i=!0)},o(d){t&&J(t.$$.fragment,d),i=!1},d(d){d&&v(e),t&&Ee(t),l=!1,Cr(a)}}}function El(r){let e,t=r[7](r[41])+"",n;return{c(){e=M("div"),n=X(t),this.h()},l(i){e=x(i,"DIV",{class:!0});var l=E(e);n=$(l,t),l.forEach(v),this.h()},h(){c(e,"class","listGroupTitle svelte-1uyqfml")},m(i,l){q(i,e,l),w(e,n)},p(i,l){l[0]&130&&t!==(t=i[7](i[41])+"")&&Ge(n,t)},i:Ce,o:Ce,d(i){i&&v(e)}}}function Qn(r){let e,t,n,i;const l=[El,Tl],a=[];function o(s,u){return s[41].isGroupHeader&&!s[41].isSelectable?0:1}return e=o(r),t=a[e]=l[e](r),{c(){t.c(),n=ee()},l(s){t.l(s),n=ee()},m(s,u){a[e].m(s,u),q(s,n,u),i=!0},p(s,u){let m=e;e=o(s),e===m?a[e].p(s,u):(Ie(),J(a[m],1,1,()=>{a[m]=null}),Le(),t=a[e],t?t.p(s,u):(t=a[e]=l[e](s),t.c()),B(t,1),t.m(n.parentNode,n))},i(s){i||(B(t),i=!0)},o(s){J(t),i=!1},d(s){a[e].d(s),s&&v(n)}}}function Il(r){let e,t,n,i,l;var a=r[4];function o(h){return{props:{item:h[41],filterText:h[13],getOptionLabel:h[6],isFirst:jr(h[42]),isActive:Ir(h[41],h[9],h[10]),isHover:Lr(h[2],h[41],h[42],h[1]),isSelectable:Ht(h[41])}}}a&&(t=Oe(a,o(r)));function s(){return r[26](r[42])}function u(){return r[27](r[42])}function m(...h){return r[28](r[41],r[42],...h)}return{c(){e=M("div"),t&&ke(t.$$.fragment),this.h()},l(h){e=x(h,"DIV",{class:!0});var d=E(e);t&&Ze(t.$$.fragment,d),d.forEach(v),this.h()},h(){c(e,"class","listItem")},m(h,d){q(h,e,d),t&&Te(t,e,null),n=!0,i||(l=[pe(e,"mouseover",s),pe(e,"focus",u),pe(e,"click",m)],i=!0)},p(h,d){r=h;const g={};if(d[1]&1024&&(g.item=r[41]),d[0]&8192&&(g.filterText=r[13]),d[0]&64&&(g.getOptionLabel=r[6]),d[1]&2048&&(g.isFirst=jr(r[42])),d[0]&1536|d[1]&1024&&(g.isActive=Ir(r[41],r[9],r[10])),d[0]&6|d[1]&3072&&(g.isHover=Lr(r[2],r[41],r[42],r[1])),d[1]&1024&&(g.isSelectable=Ht(r[41])),a!==(a=r[4])){if(t){Ie();const T=t;J(T.$$.fragment,1,0,()=>{Ee(T,1)}),Le()}a?(t=Oe(a,o(r)),ke(t.$$.fragment),B(t.$$.fragment,1),Te(t,e,null)):t=null}else a&&t.$set(g)},i(h){n||(t&&B(t.$$.fragment,h),n=!0)},o(h){t&&J(t.$$.fragment,h),n=!1},d(h){h&&v(e),t&&Ee(t),i=!1,Cr(l)}}}function Ll(r){let e,t,n,i,l,a;const o=[kl,pl],s=[];function u(m,h){return m[5]?0:1}return t=u(r),n=s[t]=o[t](r),{c(){e=M("div"),n.c(),this.h()},l(m){e=x(m,"DIV",{class:!0,style:!0});var h=E(e);n.l(h),h.forEach(v),this.h()},h(){c(e,"class","listContainer svelte-1uyqfml"),c(e,"style",r[14]),Je(e,"virtualList",r[5])},m(m,h){q(m,e,h),s[t].m(e,null),r[32](e),i=!0,l||(a=[pe(window,"keydown",r[17]),pe(window,"resize",r[18])],l=!0)},p(m,h){let d=t;t=u(m),t===d?s[t].p(m,h):(Ie(),J(s[d],1,1,()=>{s[d]=null}),Le(),n=s[t],n?n.p(m,h):(n=s[t]=o[t](m),n.c()),B(n,1),n.m(e,null)),(!i||h[0]&16384)&&c(e,"style",m[14]),(!i||h[0]&32)&&Je(e,"virtualList",m[5])},i(m){i||(B(n),i=!0)},o(m){J(n),i=!1},d(m){m&&v(e),s[t].d(),r[32](null),l=!1,Cr(a)}}}function Ir(r,e,t){return e&&e[t]===r[t]}function jr(r){return r===0}function Lr(r,e,t,n){return Ht(e)&&(r===t||n.length===1)}function Ht(r){return r.isGroupHeader&&r.isSelectable||r.selectable||!r.hasOwnProperty("selectable")}function Sl(r,e,t){const n=Kr();let{container:i=void 0}=e,{VirtualList:l=null}=e,{Item:a=Wi}=e,{isVirtualList:o=!1}=e,{items:s=[]}=e,{labelIdentifier:u="label"}=e,{getOptionLabel:m=(k,O)=>{if(k)return k.isCreator?`Create "${O}"`:k[u]}}=e,{getGroupHeaderLabel:h=null}=e,{itemHeight:d=40}=e,{hoverItemIndex:g=0}=e,{value:T=void 0}=e,{optionIdentifier:S="value"}=e,{hideEmptyState:C=!1}=e,{noOptionsMessage:G="No options"}=e,{isMulti:j=!1}=e,{activeItemIndex:y=0}=e,{filterText:_=""}=e,{parent:b=null}=e,{listPlacement:P=null}=e,{listAutoWidth:ue=null}=e,{listOffset:V=5}=e,W=0,N=!1,Q;Jr(()=>{if(s.length>0&&!j&&T){const k=s.findIndex(O=>O[S]===T[S]);k&&t(2,g=k)}ie("active"),i.addEventListener("scroll",()=>{clearTimeout(W),W=setTimeout(()=>{N=!1},100)},!1)}),Oi(()=>{s||t(1,s=[]),s!==Q&&s.length>0&&t(2,g=0),Q=s});function D(k){k.isCreator||n("itemSelected",k)}function H(k){N||t(2,g=k)}function R(k){const{item:O,i:A,event:le}=k;if(le.stopPropagation(),T&&!j&&T[S]===O[S])return p();O.isCreator?n("itemCreated",_):Ht(O)&&(t(19,y=A),t(2,g=A),D(O))}function p(){n("closeList")}async function L(k){if(o)return;let O=!0;for(;O;)k>0&&g===s.length-1?t(2,g=0):k<0&&g===0?t(2,g=s.length-1):t(2,g=g+k),O=!Ht(s[g]);await yr(),ie("hover")}function re(k){switch(k.key){case"Escape":k.preventDefault(),p();break;case"ArrowDown":k.preventDefault(),s.length&&L(1);break;case"ArrowUp":k.preventDefault(),s.length&&L(-1);break;case"Enter":if(k.preventDefault(),s.length===0)break;const O=s[g];if(T&&!j&&T[S]===O[S]){p();break}O.isCreator?n("itemCreated",_):(t(19,y=g),D(s[g]));break;case"Tab":if(k.preventDefault(),s.length===0||T&&T[S]===s[g][S])return p();t(19,y=g),D(s[g]);break}}function ie(k){if(o||!i)return;let O;const A=i.querySelector(`.listItem .${k}`);A&&(O=i.getBoundingClientRect().bottom-A.getBoundingClientRect().bottom),t(0,i.scrollTop-=O,i)}let he;function de(){const{height:k,width:O}=b.getBoundingClientRect();t(14,he=""),t(14,he+=`min-width:${O}px;width:${ue?"auto":"100%"};`),P==="top"||P==="auto"&&wl(b,i).bottom?t(14,he+=`bottom:${k+V}px;`):t(14,he+=`top:${k+V}px;`)}const me=k=>H(k),fe=k=>H(k),rt=(k,O,A)=>R({item:k,i:O,event:A}),Pe=k=>H(k),oe=k=>H(k),Me=(k,O,A)=>R({item:k,i:O,event:A});function ae(k){Ft[k?"unshift":"push"](()=>{i=k,t(0,i)})}return r.$$set=k=>{"container"in k&&t(0,i=k.container),"VirtualList"in k&&t(3,l=k.VirtualList),"Item"in k&&t(4,a=k.Item),"isVirtualList"in k&&t(5,o=k.isVirtualList),"items"in k&&t(1,s=k.items),"labelIdentifier"in k&&t(20,u=k.labelIdentifier),"getOptionLabel"in k&&t(6,m=k.getOptionLabel),"getGroupHeaderLabel"in k&&t(7,h=k.getGroupHeaderLabel),"itemHeight"in k&&t(8,d=k.itemHeight),"hoverItemIndex"in k&&t(2,g=k.hoverItemIndex),"value"in k&&t(9,T=k.value),"optionIdentifier"in k&&t(10,S=k.optionIdentifier),"hideEmptyState"in k&&t(11,C=k.hideEmptyState),"noOptionsMessage"in k&&t(12,G=k.noOptionsMessage),"isMulti"in k&&t(21,j=k.isMulti),"activeItemIndex"in k&&t(19,y=k.activeItemIndex),"filterText"in k&&t(13,_=k.filterText),"parent"in k&&t(22,b=k.parent),"listPlacement"in k&&t(23,P=k.listPlacement),"listAutoWidth"in k&&t(24,ue=k.listAutoWidth),"listOffset"in k&&t(25,V=k.listOffset)},r.$$.update=()=>{r.$$.dirty[0]&4194305&&b&&i&&de()},[i,s,g,l,a,o,m,h,d,T,S,C,G,_,he,H,R,re,de,y,u,j,b,P,ue,V,me,fe,rt,Pe,oe,Me,ae]}class Cl extends ht{constructor(e){super(),dt(this,e,Sl,Ll,Ye,{container:0,VirtualList:3,Item:4,isVirtualList:5,items:1,labelIdentifier:20,getOptionLabel:6,getGroupHeaderLabel:7,itemHeight:8,hoverItemIndex:2,value:9,optionIdentifier:10,hideEmptyState:11,noOptionsMessage:12,isMulti:21,activeItemIndex:19,filterText:13,parent:22,listPlacement:23,listAutoWidth:24,listOffset:25},null,[-1,-1])}}function Pl(r){let e,t=r[0](r[1])+"";return{c(){e=M("div"),this.h()},l(n){e=x(n,"DIV",{class:!0});var i=E(e);i.forEach(v),this.h()},h(){c(e,"class","selection svelte-pu1q1n")},m(n,i){q(n,e,i),e.innerHTML=t},p(n,[i]){i&3&&t!==(t=n[0](n[1])+"")&&(e.innerHTML=t)},i:Ce,o:Ce,d(n){n&&v(e)}}}function Al(r,e,t){let{getSelectionLabel:n=void 0}=e,{item:i=void 0}=e;return r.$$set=l=>{"getSelectionLabel"in l&&t(0,n=l.getSelectionLabel),"item"in l&&t(1,i=l.item)},[n,i]}class Ml extends ht{constructor(e){super(),dt(this,e,Al,Pl,Ye,{getSelectionLabel:0,item:1})}}function Xn(r,e,t){const n=r.slice();return n[9]=e[t],n[11]=t,n}function $n(r){let e,t,n,i,l;function a(...o){return r[6](r[11],...o)}return{c(){e=M("div"),t=z("svg"),n=z("path"),this.h()},l(o){e=x(o,"DIV",{class:!0});var s=E(e);t=K(s,"svg",{width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0,role:!0,class:!0});var u=E(t);n=K(u,"path",{d:!0}),E(n).forEach(v),u.forEach(v),s.forEach(v),this.h()},h(){c(n,"d","M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124 l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"),c(t,"width","100%"),c(t,"height","100%"),c(t,"viewBox","-2 -2 50 50"),c(t,"focusable","false"),c(t,"aria-hidden","true"),c(t,"role","presentation"),c(t,"class","svelte-liu9pa"),c(e,"class","multiSelectItem_clear svelte-liu9pa")},m(o,s){q(o,e,s),w(e,t),w(t,n),i||(l=pe(e,"click",a),i=!0)},p(o,s){r=o},d(o){o&&v(e),i=!1,l()}}}function ei(r){let e,t,n=r[4](r[9])+"",i,l,a,o,s,u=!r[2]&&!r[3]&&$n(r);function m(...h){return r[7](r[11],...h)}return{c(){e=M("div"),t=M("div"),i=Y(),u&&u.c(),l=Y(),this.h()},l(h){e=x(h,"DIV",{class:!0});var d=E(e);t=x(d,"DIV",{class:!0});var g=E(t);g.forEach(v),i=Z(d),u&&u.l(d),l=Z(d),d.forEach(v),this.h()},h(){c(t,"class","multiSelectItem_label svelte-liu9pa"),c(e,"class",a="multiSelectItem "+(r[1]===r[11]?"active":"")+" "+(r[2]?"disabled":"")+" svelte-liu9pa")},m(h,d){q(h,e,d),w(e,t),t.innerHTML=n,w(e,i),u&&u.m(e,null),w(e,l),o||(s=pe(e,"click",m),o=!0)},p(h,d){r=h,d&17&&n!==(n=r[4](r[9])+"")&&(t.innerHTML=n),!r[2]&&!r[3]?u?u.p(r,d):(u=$n(r),u.c(),u.m(e,l)):u&&(u.d(1),u=null),d&6&&a!==(a="multiSelectItem "+(r[1]===r[11]?"active":"")+" "+(r[2]?"disabled":"")+" svelte-liu9pa")&&c(e,"class",a)},d(h){h&&v(e),u&&u.d(),o=!1,s()}}}function xl(r){let e,t=r[0],n=[];for(let i=0;i<t.length;i+=1)n[i]=ei(Xn(r,t,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=ee()},l(i){for(let l=0;l<n.length;l+=1)n[l].l(i);e=ee()},m(i,l){for(let a=0;a<n.length;a+=1)n[a].m(i,l);q(i,e,l)},p(i,[l]){if(l&63){t=i[0];let a;for(a=0;a<t.length;a+=1){const o=Xn(i,t,a);n[a]?n[a].p(o,l):(n[a]=ei(o),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},i:Ce,o:Ce,d(i){et(n,i),i&&v(e)}}}function Nl(r,e,t){const n=Kr();let{value:i=[]}=e,{activeValue:l=void 0}=e,{isDisabled:a=!1}=e,{multiFullItemClearable:o=!1}=e,{getSelectionLabel:s=void 0}=e;function u(d,g){g.stopPropagation(),n("multiItemClear",{i:d})}const m=(d,g)=>u(d,g),h=(d,g)=>o?u(d,g):{};return r.$$set=d=>{"value"in d&&t(0,i=d.value),"activeValue"in d&&t(1,l=d.activeValue),"isDisabled"in d&&t(2,a=d.isDisabled),"multiFullItemClearable"in d&&t(3,o=d.multiFullItemClearable),"getSelectionLabel"in d&&t(4,s=d.getSelectionLabel)},[i,l,a,o,s,u,m,h]}class Ol extends ht{constructor(e){super(),dt(this,e,Nl,xl,Ye,{value:0,activeValue:1,isDisabled:2,multiFullItemClearable:3,getSelectionLabel:4})}}function ti(r,e,t){const n=r.slice();return n[23]=e[t],n}const Dl=r=>({item:r&32,i:r&32,hoverItemIndex:r&2}),ri=r=>({item:r[23].data,i:r[23].index,hoverItemIndex:r[1]});function Rl(r){let e;return{c(){e=X("Missing template")},l(t){e=$(t,"Missing template")},m(t,n){q(t,e,n)},d(t){t&&v(e)}}}function ni(r,e){let t,n,i;const l=e[15].default,a=fa(l,e,e[14],ri),o=a||Rl();return{key:r,first:null,c(){t=M("svelte-virtual-list-row"),o&&o.c(),n=Y(),this.h()},l(s){t=x(s,"SVELTE-VIRTUAL-LIST-ROW",{class:!0});var u=E(t);o&&o.l(u),n=Z(u),u.forEach(v),this.h()},h(){Hr(t,"class","svelte-g2cagw"),this.first=t},m(s,u){q(s,t,u),o&&o.m(t,null),w(t,n),i=!0},p(s,u){e=s,a&&a.p&&(!i||u&16418)&&ha(a,l,e,e[14],i?ma(l,e[14],u,Dl):da(e[14]),ri)},i(s){i||(B(o,s),i=!0)},o(s){J(o,s),i=!1},d(s){s&&v(t),o&&o.d(s)}}}function Fl(r){let e,t,n=[],i=new Map,l,a,o,s,u=r[5];const m=h=>h[23].index;for(let h=0;h<u.length;h+=1){let d=ti(r,u,h),g=m(d);i.set(g,n[h]=ni(g,d))}return{c(){e=M("svelte-virtual-list-viewport"),t=M("svelte-virtual-list-contents");for(let h=0;h<n.length;h+=1)n[h].c();this.h()},l(h){e=x(h,"SVELTE-VIRTUAL-LIST-VIEWPORT",{style:!0,class:!0});var d=E(e);t=x(d,"SVELTE-VIRTUAL-LIST-CONTENTS",{style:!0,class:!0});var g=E(t);for(let T=0;T<n.length;T+=1)n[T].l(g);g.forEach(v),d.forEach(v),this.h()},h(){ne(t,"padding-top",r[6]+"px"),ne(t,"padding-bottom",r[7]+"px"),Hr(t,"class","svelte-g2cagw"),ne(e,"height",r[0]),Hr(e,"class","svelte-g2cagw"),Wr(()=>r[18].call(e))},m(h,d){q(h,e,d),w(e,t);for(let g=0;g<n.length;g+=1)n[g].m(t,null);r[16](t),r[17](e),l=zr(e,r[18].bind(e)),a=!0,o||(s=pe(e,"scroll",r[8]),o=!0)},p(h,[d]){d&16418&&(u=h[5],Ie(),n=ca(n,d,m,1,h,u,i,t,ga,ni,null,ti),Le()),(!a||d&64)&&ne(t,"padding-top",h[6]+"px"),(!a||d&128)&&ne(t,"padding-bottom",h[7]+"px"),(!a||d&1)&&ne(e,"height",h[0])},i(h){if(!a){for(let d=0;d<u.length;d+=1)B(n[d]);a=!0}},o(h){for(let d=0;d<n.length;d+=1)J(n[d]);a=!1},d(h){h&&v(e);for(let d=0;d<n.length;d+=1)n[d].d();r[16](null),r[17](null),l(),o=!1,s()}}}function Hl(r,e,t){let{$$slots:n={},$$scope:i}=e,{items:l=void 0}=e,{height:a="100%"}=e,{itemHeight:o=40}=e,{hoverItemIndex:s=0}=e,{start:u=0}=e,{end:m=0}=e,h=[],d,g,T,S=0,C,G,j=0,y=0,_;async function b(N,Q,D){const{scrollTop:H}=g;await yr();let R=j-H,p=u;for(;R<Q&&p<N.length;){let re=d[p-u];re||(t(10,m=p+1),await yr(),re=d[p-u]);const ie=h[p]=D||re.offsetHeight;R+=ie,p+=1}t(10,m=p);const L=N.length-m;_=(j+R)/m,t(7,y=L*_),h.length=N.length,g&&t(3,g.scrollTop=0,g)}async function P(){const{scrollTop:N}=g,Q=u;for(let p=0;p<d.length;p+=1)h[u+p]=o||d[p].offsetHeight;let D=0,H=0;for(;D<l.length;){const p=h[D]||_;if(H+p>N){t(9,u=D),t(6,j=H);break}H+=p,D+=1}for(;D<l.length&&(H+=h[D]||_,D+=1,!(H>N+S)););t(10,m=D);const R=l.length-m;for(_=H/m;D<l.length;)h[D++]=_;if(t(7,y=R*_),u<Q){await yr();let p=0,L=0;for(let ie=u;ie<Q;ie+=1)d[ie-u]&&(p+=h[ie],L+=o||d[ie-u].offsetHeight);const re=L-p;g.scrollTo(0,N+re)}}Jr(()=>{d=T.getElementsByTagName("svelte-virtual-list-row"),t(13,G=!0)});function ue(N){Ft[N?"unshift":"push"](()=>{T=N,t(4,T)})}function V(N){Ft[N?"unshift":"push"](()=>{g=N,t(3,g)})}function W(){S=this.offsetHeight,t(2,S)}return r.$$set=N=>{"items"in N&&t(11,l=N.items),"height"in N&&t(0,a=N.height),"itemHeight"in N&&t(12,o=N.itemHeight),"hoverItemIndex"in N&&t(1,s=N.hoverItemIndex),"start"in N&&t(9,u=N.start),"end"in N&&t(10,m=N.end),"$$scope"in N&&t(14,i=N.$$scope)},r.$$.update=()=>{r.$$.dirty&3584&&t(5,C=l.slice(u,m).map((N,Q)=>({index:Q+u,data:N}))),r.$$.dirty&14340&&G&&b(l,S,o)},[a,s,S,g,T,C,j,y,P,u,m,l,o,G,i,n,ue,V,W]}class jl extends ht{constructor(e){super(),dt(this,e,Hl,Fl,Ye,{items:11,height:0,itemHeight:12,hoverItemIndex:1,start:9,end:10})}}function ql(r){let e,t;return{c(){e=z("svg"),t=z("path"),this.h()},l(n){e=K(n,"svg",{width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0,role:!0});var i=E(e);t=K(i,"path",{fill:!0,d:!0}),E(t).forEach(v),i.forEach(v),this.h()},h(){c(t,"fill","currentColor"),c(t,"d",`M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124
    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z`),c(e,"width","100%"),c(e,"height","100%"),c(e,"viewBox","-2 -2 50 50"),c(e,"focusable","false"),c(e,"aria-hidden","true"),c(e,"role","presentation")},m(n,i){q(n,e,i),w(e,t)},p:Ce,i:Ce,o:Ce,d(n){n&&v(e)}}}class Bl extends ht{constructor(e){super(),dt(this,e,null,ql,Ye,{})}}function Vl(r,e,t){let n;return function(){let l=this,a=arguments,o=function(){n=null,t||r.apply(l,a)},s=t&&!n;clearTimeout(n),n=setTimeout(o,e),s&&r.apply(l,a)}}function ii(r,e,t){const n=r.slice();return n[103]=e[t],n}function ai(r){let e,t,n,i,l;return{c(){e=M("span"),t=X(r[33]),n=Y(),i=M("span"),l=X(r[32]),this.h()},l(a){e=x(a,"SPAN",{id:!0});var o=E(e);t=$(o,r[33]),o.forEach(v),n=Z(a),i=x(a,"SPAN",{id:!0});var s=E(i);l=$(s,r[32]),s.forEach(v),this.h()},h(){c(e,"id","aria-selection"),c(i,"id","aria-context")},m(a,o){q(a,e,o),w(e,t),q(a,n,o),q(a,i,o),w(i,l)},p(a,o){o[1]&4&&Ge(t,a[33]),o[1]&2&&Ge(l,a[32])},d(a){a&&v(e),a&&v(n),a&&v(i)}}}function li(r){let e,t,n;const i=[r[18]];var l=r[17];function a(o){let s={};for(let u=0;u<i.length;u+=1)s=Yr(s,i[u]);return{props:s}}return l&&(e=Oe(l,a())),{c(){e&&ke(e.$$.fragment),t=ee()},l(o){e&&Ze(e.$$.fragment,o),t=ee()},m(o,s){e&&Te(e,o,s),q(o,t,s),n=!0},p(o,s){const u=s[0]&262144?Zr(i,[Di(o[18])]):{};if(l!==(l=o[17])){if(e){Ie();const m=e;J(m.$$.fragment,1,0,()=>{Ee(m,1)}),Le()}l?(e=Oe(l,a()),ke(e.$$.fragment),B(e.$$.fragment,1),Te(e,t.parentNode,t)):e=null}else l&&e.$set(u)},i(o){n||(e&&B(e.$$.fragment,o),n=!0)},o(o){e&&J(e.$$.fragment,o),n=!1},d(o){o&&v(t),e&&Ee(e,o)}}}function oi(r){let e,t,n;var i=r[26];function l(a){return{props:{value:a[2],getSelectionLabel:a[12],activeValue:a[30],isDisabled:a[9],multiFullItemClearable:a[8]}}}return i&&(e=Oe(i,l(r)),e.$on("multiItemClear",r[38]),e.$on("focus",r[40])),{c(){e&&ke(e.$$.fragment),t=ee()},l(a){e&&Ze(e.$$.fragment,a),t=ee()},m(a,o){e&&Te(e,a,o),q(a,t,o),n=!0},p(a,o){const s={};if(o[0]&4&&(s.value=a[2]),o[0]&4096&&(s.getSelectionLabel=a[12]),o[0]&1073741824&&(s.activeValue=a[30]),o[0]&512&&(s.isDisabled=a[9]),o[0]&256&&(s.multiFullItemClearable=a[8]),i!==(i=a[26])){if(e){Ie();const u=e;J(u.$$.fragment,1,0,()=>{Ee(u,1)}),Le()}i?(e=Oe(i,l(a)),e.$on("multiItemClear",a[38]),e.$on("focus",a[40]),ke(e.$$.fragment),B(e.$$.fragment,1),Te(e,t.parentNode,t)):e=null}else i&&e.$set(s)},i(a){n||(e&&B(e.$$.fragment,a),n=!0)},o(a){e&&J(e.$$.fragment,a),n=!1},d(a){a&&v(t),e&&Ee(e,a)}}}function si(r){let e,t,n,i,l;var a=r[25];function o(s){return{props:{item:s[2],getSelectionLabel:s[12]}}}return a&&(t=Oe(a,o(r))),{c(){e=M("div"),t&&ke(t.$$.fragment),this.h()},l(s){e=x(s,"DIV",{class:!0});var u=E(e);t&&Ze(t.$$.fragment,u),u.forEach(v),this.h()},h(){c(e,"class","selectedItem svelte-17l1npl")},m(s,u){q(s,e,u),t&&Te(t,e,null),n=!0,i||(l=pe(e,"focus",r[40]),i=!0)},p(s,u){const m={};if(u[0]&4&&(m.item=s[2]),u[0]&4096&&(m.getSelectionLabel=s[12]),a!==(a=s[25])){if(t){Ie();const h=t;J(h.$$.fragment,1,0,()=>{Ee(h,1)}),Le()}a?(t=Oe(a,o(s)),ke(t.$$.fragment),B(t.$$.fragment,1),Te(t,e,null)):t=null}else a&&t.$set(m)},i(s){n||(t&&B(t.$$.fragment,s),n=!0)},o(s){t&&J(t.$$.fragment,s),n=!1},d(s){s&&v(e),t&&Ee(t),i=!1,l()}}}function ui(r){let e,t,n,i,l;var a=r[23];function o(s){return{}}return a&&(t=Oe(a,o())),{c(){e=M("div"),t&&ke(t.$$.fragment),this.h()},l(s){e=x(s,"DIV",{class:!0,"aria-hidden":!0});var u=E(e);t&&Ze(t.$$.fragment,u),u.forEach(v),this.h()},h(){c(e,"class","clearSelect svelte-17l1npl"),c(e,"aria-hidden","true")},m(s,u){q(s,e,u),t&&Te(t,e,null),n=!0,i||(l=pe(e,"click",ba(r[27])),i=!0)},p(s,u){if(a!==(a=s[23])){if(t){Ie();const m=t;J(m.$$.fragment,1,0,()=>{Ee(m,1)}),Le()}a?(t=Oe(a,o()),ke(t.$$.fragment),B(t.$$.fragment,1),Te(t,e,null)):t=null}},i(s){n||(t&&B(t.$$.fragment,s),n=!0)},o(s){t&&J(t.$$.fragment,s),n=!1},d(s){s&&v(e),t&&Ee(t),i=!1,l()}}}function ci(r){let e;function t(l,a){return l[22]?Ul:Gl}let n=t(r),i=n(r);return{c(){e=M("div"),i.c(),this.h()},l(l){e=x(l,"DIV",{class:!0,"aria-hidden":!0});var a=E(e);i.l(a),a.forEach(v),this.h()},h(){c(e,"class","indicator svelte-17l1npl"),c(e,"aria-hidden","true")},m(l,a){q(l,e,a),i.m(e,null)},p(l,a){n===(n=t(l))&&i?i.p(l,a):(i.d(1),i=n(l),i&&(i.c(),i.m(e,null)))},d(l){l&&v(e),i.d()}}}function Gl(r){let e,t;return{c(){e=z("svg"),t=z("path"),this.h()},l(n){e=K(n,"svg",{width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0,class:!0});var i=E(e);t=K(i,"path",{d:!0}),E(t).forEach(v),i.forEach(v),this.h()},h(){c(t,"d",`M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747
          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0
          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502
          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0
          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z`),c(e,"width","100%"),c(e,"height","100%"),c(e,"viewBox","0 0 20 20"),c(e,"focusable","false"),c(e,"aria-hidden","true"),c(e,"class","svelte-17l1npl")},m(n,i){q(n,e,i),w(e,t)},p:Ce,d(n){n&&v(e)}}}function Ul(r){let e,t;return{c(){e=new wa(!1),t=ee(),this.h()},l(n){e=_a(n,!1),t=ee(),this.h()},h(){e.a=t},m(n,i){e.m(r[22],n,i),q(n,t,i)},p(n,i){i[0]&4194304&&e.p(n[22])},d(n){n&&v(t),n&&e.d()}}}function fi(r){let e,t,n;return{c(){e=M("div"),t=z("svg"),n=z("circle"),this.h()},l(i){e=x(i,"DIV",{class:!0});var l=E(e);t=K(l,"svg",{class:!0,viewBox:!0});var a=E(t);n=K(a,"circle",{class:!0,cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0}),E(n).forEach(v),a.forEach(v),l.forEach(v),this.h()},h(){c(n,"class","spinner_path svelte-17l1npl"),c(n,"cx","50"),c(n,"cy","50"),c(n,"r","20"),c(n,"fill","none"),c(n,"stroke","currentColor"),c(n,"stroke-width","5"),c(n,"stroke-miterlimit","10"),c(t,"class","spinner_icon svelte-17l1npl"),c(t,"viewBox","25 25 50 50"),c(e,"class","spinner svelte-17l1npl")},m(i,l){q(i,e,l),w(e,t),w(t,n)},d(i){i&&v(e)}}}function hi(r){let e,t,n,i;const l=[r[34]];function a(u){r[84](u)}var o=r[24];function s(u){let m={};for(let h=0;h<l.length;h+=1)m=Yr(m,l[h]);return u[28]!==void 0&&(m.hoverItemIndex=u[28]),{props:m}}return o&&(e=Oe(o,s(r)),Ft.push(()=>yn(e,"hoverItemIndex",a)),e.$on("itemSelected",r[43]),e.$on("itemCreated",r[44]),e.$on("closeList",r[45])),{c(){e&&ke(e.$$.fragment),n=ee()},l(u){e&&Ze(e.$$.fragment,u),n=ee()},m(u,m){e&&Te(e,u,m),q(u,n,m),i=!0},p(u,m){const h=m[1]&8?Zr(l,[Di(u[34])]):{};if(!t&&m[0]&268435456&&(t=!0,h.hoverItemIndex=u[28],va(()=>t=!1)),o!==(o=u[24])){if(e){Ie();const d=e;J(d.$$.fragment,1,0,()=>{Ee(d,1)}),Le()}o?(e=Oe(o,s(u)),Ft.push(()=>yn(e,"hoverItemIndex",a)),e.$on("itemSelected",u[43]),e.$on("itemCreated",u[44]),e.$on("closeList",u[45]),ke(e.$$.fragment),B(e.$$.fragment,1),Te(e,n.parentNode,n)):e=null}else o&&e.$set(h)},i(u){i||(e&&B(e.$$.fragment,u),i=!0)},o(u){e&&J(e.$$.fragment,u),i=!1},d(u){u&&v(n),e&&Ee(e,u)}}}function di(r){let e,t,n;return{c(){e=M("input"),this.h()},l(i){e=x(i,"INPUT",{name:!0,type:!0,class:!0}),this.h()},h(){c(e,"name",t=r[16].name),c(e,"type","hidden"),e.value=n=r[2]?r[12](r[2]):null,c(e,"class","svelte-17l1npl")},m(i,l){q(i,e,l)},p(i,l){l[0]&65536&&t!==(t=i[16].name)&&c(e,"name",t),l[0]&4100&&n!==(n=i[2]?i[12](i[2]):null)&&(e.value=n)},d(i){i&&v(e)}}}function mi(r){let e,t=r[2],n=[];for(let i=0;i<t.length;i+=1)n[i]=gi(ii(r,t,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=ee()},l(i){for(let l=0;l<n.length;l+=1)n[l].l(i);e=ee()},m(i,l){for(let a=0;a<n.length;a+=1)n[a].m(i,l);q(i,e,l)},p(i,l){if(l[0]&69636){t=i[2];let a;for(a=0;a<t.length;a+=1){const o=ii(i,t,a);n[a]?n[a].p(o,l):(n[a]=gi(o),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(i){et(n,i),i&&v(e)}}}function gi(r){let e,t,n;return{c(){e=M("input"),this.h()},l(i){e=x(i,"INPUT",{name:!0,type:!0,class:!0}),this.h()},h(){c(e,"name",t=r[16].name),c(e,"type","hidden"),e.value=n=r[103]?r[12](r[103]):null,c(e,"class","svelte-17l1npl")},m(i,l){q(i,e,l)},p(i,l){l[0]&65536&&t!==(t=i[16].name)&&c(e,"name",t),l[0]&4100&&n!==(n=i[103]?i[12](i[103]):null)&&(e.value=n)},d(i){i&&v(e)}}}function Wl(r){let e,t,n,i,l,a,o,s,u,m,h,d,g,T,S,C,G,j,y=r[1]&&ai(r),_=r[17]&&li(r),b=r[35]&&oi(r),P=[{readOnly:o=!r[13]},r[31],{placeholder:r[36]},{style:r[14]},{disabled:r[9]}],ue={};for(let p=0;p<P.length;p+=1)ue=Yr(ue,P[p]);let V=!r[7]&&r[29]&&si(r),W=r[37]&&ui(r),N=!r[37]&&(r[20]||r[19]&&!r[2]||!r[13]&&!r[9]&&!r[4]&&(r[29]&&!r[15]||!r[29]))&&ci(r),Q=r[4]&&fi(),D=r[5]&&hi(r),H=(!r[7]||r[7]&&!r[35])&&di(r),R=r[7]&&r[35]&&mi(r);return{c(){e=M("div"),t=M("span"),y&&y.c(),n=Y(),_&&_.c(),i=Y(),b&&b.c(),l=Y(),a=M("input"),s=Y(),V&&V.c(),u=Y(),W&&W.c(),m=Y(),N&&N.c(),h=Y(),Q&&Q.c(),d=Y(),D&&D.c(),g=Y(),H&&H.c(),T=Y(),R&&R.c(),this.h()},l(p){e=x(p,"DIV",{class:!0,style:!0});var L=E(e);t=x(L,"SPAN",{"aria-live":!0,"aria-atomic":!0,"aria-relevant":!0,class:!0});var re=E(t);y&&y.l(re),re.forEach(v),n=Z(L),_&&_.l(L),i=Z(L),b&&b.l(L),l=Z(L),a=x(L,"INPUT",{placeholder:!0,style:!0}),s=Z(L),V&&V.l(L),u=Z(L),W&&W.l(L),m=Z(L),N&&N.l(L),h=Z(L),Q&&Q.l(L),d=Z(L),D&&D.l(L),g=Z(L),H&&H.l(L),T=Z(L),R&&R.l(L),L.forEach(v),this.h()},h(){c(t,"aria-live","polite"),c(t,"aria-atomic","false"),c(t,"aria-relevant","additions text"),c(t,"class","a11yText svelte-17l1npl"),wn(a,ue),Je(a,"svelte-17l1npl",!0),c(e,"class",S="selectContainer "+r[21]+" svelte-17l1npl"),c(e,"style",r[11]),Je(e,"hasError",r[10]),Je(e,"multiSelect",r[7]),Je(e,"disabled",r[9]),Je(e,"focused",r[1])},m(p,L){q(p,e,L),w(e,t),y&&y.m(t,null),w(e,n),_&&_.m(e,null),w(e,i),b&&b.m(e,null),w(e,l),w(e,a),a.autofocus&&a.focus(),r[82](a),_n(a,r[3]),w(e,s),V&&V.m(e,null),w(e,u),W&&W.m(e,null),w(e,m),N&&N.m(e,null),w(e,h),Q&&Q.m(e,null),w(e,d),D&&D.m(e,null),w(e,g),H&&H.m(e,null),w(e,T),R&&R.m(e,null),r[85](e),C=!0,G||(j=[pe(window,"click",r[41]),pe(window,"focusin",r[41]),pe(window,"keydown",r[39]),pe(a,"focus",r[40]),pe(a,"input",r[83]),pe(e,"click",r[42])],G=!0)},p(p,L){p[1]?y?y.p(p,L):(y=ai(p),y.c(),y.m(t,null)):y&&(y.d(1),y=null),p[17]?_?(_.p(p,L),L[0]&131072&&B(_,1)):(_=li(p),_.c(),B(_,1),_.m(e,i)):_&&(Ie(),J(_,1,1,()=>{_=null}),Le()),p[35]?b?(b.p(p,L),L[1]&16&&B(b,1)):(b=oi(p),b.c(),B(b,1),b.m(e,l)):b&&(Ie(),J(b,1,1,()=>{b=null}),Le()),wn(a,ue=Zr(P,[(!C||L[0]&8192&&o!==(o=!p[13]))&&{readOnly:o},L[1]&1&&p[31],(!C||L[1]&32)&&{placeholder:p[36]},(!C||L[0]&16384)&&{style:p[14]},(!C||L[0]&512)&&{disabled:p[9]}])),L[0]&8&&a.value!==p[3]&&_n(a,p[3]),Je(a,"svelte-17l1npl",!0),!p[7]&&p[29]?V?(V.p(p,L),L[0]&536871040&&B(V,1)):(V=si(p),V.c(),B(V,1),V.m(e,u)):V&&(Ie(),J(V,1,1,()=>{V=null}),Le()),p[37]?W?(W.p(p,L),L[1]&64&&B(W,1)):(W=ui(p),W.c(),B(W,1),W.m(e,m)):W&&(Ie(),J(W,1,1,()=>{W=null}),Le()),!p[37]&&(p[20]||p[19]&&!p[2]||!p[13]&&!p[9]&&!p[4]&&(p[29]&&!p[15]||!p[29]))?N?N.p(p,L):(N=ci(p),N.c(),N.m(e,h)):N&&(N.d(1),N=null),p[4]?Q||(Q=fi(),Q.c(),Q.m(e,d)):Q&&(Q.d(1),Q=null),p[5]?D?(D.p(p,L),L[0]&32&&B(D,1)):(D=hi(p),D.c(),B(D,1),D.m(e,g)):D&&(Ie(),J(D,1,1,()=>{D=null}),Le()),!p[7]||p[7]&&!p[35]?H?H.p(p,L):(H=di(p),H.c(),H.m(e,T)):H&&(H.d(1),H=null),p[7]&&p[35]?R?R.p(p,L):(R=mi(p),R.c(),R.m(e,null)):R&&(R.d(1),R=null),(!C||L[0]&2097152&&S!==(S="selectContainer "+p[21]+" svelte-17l1npl"))&&c(e,"class",S),(!C||L[0]&2048)&&c(e,"style",p[11]),(!C||L[0]&2098176)&&Je(e,"hasError",p[10]),(!C||L[0]&2097280)&&Je(e,"multiSelect",p[7]),(!C||L[0]&2097664)&&Je(e,"disabled",p[9]),(!C||L[0]&2097154)&&Je(e,"focused",p[1])},i(p){C||(B(_),B(b),B(V),B(W),B(D),C=!0)},o(p){J(_),J(b),J(V),J(W),J(D),C=!1},d(p){p&&v(e),y&&y.d(),_&&_.d(),b&&b.d(),r[82](null),V&&V.d(),W&&W.d(),N&&N.d(),Q&&Q.d(),D&&D.d(),H&&H.d(),R&&R.d(),r[85](null),G=!1,Cr(j)}}}function bi(r){return r.map((e,t)=>({index:t,value:e,label:`${e}`}))}function zl(r,e,t){let n,i,l,a,o,s,u,m;const h=Kr();let{id:d=null}=e,{container:g=void 0}=e,{input:T=void 0}=e,{isMulti:S=!1}=e,{multiFullItemClearable:C=!1}=e,{isDisabled:G=!1}=e,{isCreatable:j=!1}=e,{isFocused:y=!1}=e,{value:_=null}=e,{filterText:b=""}=e,{placeholder:P="Select..."}=e,{placeholderAlwaysShow:ue=!1}=e,{items:V=null}=e,{itemFilter:W=(f,F,te)=>`${f}`.toLowerCase().includes(F.toLowerCase())}=e,{groupBy:N=void 0}=e,{groupFilter:Q=f=>f}=e,{isGroupHeaderSelectable:D=!1}=e,{getGroupHeaderLabel:H=f=>f[R]||f.id}=e,{labelIdentifier:R="label"}=e,{getOptionLabel:p=(f,F)=>f.isCreator?`Create "${F}"`:f[R]}=e,{optionIdentifier:L="value"}=e,{loadOptions:re=void 0}=e,{hasError:ie=!1}=e,{containerStyles:he=""}=e,{getSelectionLabel:de=f=>f?f[R]:null}=e,{createGroupHeaderItem:me=f=>({value:f,label:f})}=e,{createItem:fe=f=>({value:f,label:f})}=e;const rt=()=>n;let{isSearchable:Pe=!0}=e,{inputStyles:oe=""}=e,{isClearable:Me=!0}=e,{isWaiting:ae=!1}=e,{listPlacement:k="auto"}=e,{listOpen:O=!1}=e,{isVirtualList:A=!1}=e,{loadOptionsInterval:le=300}=e,{noOptionsMessage:I="No options"}=e,{hideEmptyState:ve=!1}=e,{inputAttributes:Ue={}}=e,{listAutoWidth:nt=!0}=e,{itemHeight:Se=40}=e,{Icon:Qe=void 0}=e,{iconProps:it={}}=e,{showChevron:mt=!1}=e,{showIndicator:Be=!1}=e,{containerClasses:_e=""}=e,{indicatorSvg:It=void 0}=e,{listOffset:Lt=5}=e,{ClearIcon:Xe=Bl}=e,{Item:gt=Wi}=e,{List:St=Cl}=e,{Selection:jt=Ml}=e,{MultiSelection:qt=Ol}=e,{VirtualList:Ct=jl}=e;function We(f){if(f.loadOptions&&f.filterText.length>0)return;if(!f.items)return[];f.items&&f.items.length>0&&typeof f.items[0]!="object"&&(f.items=bi(f.items));let F=f.items.filter(te=>{let Re=W(p(te,f.filterText),f.filterText,te);return Re&&f.isMulti&&f.value&&Array.isArray(f.value)&&(Re=!f.value.some(ct=>ct[f.optionIdentifier]===te[f.optionIdentifier])),Re});return f.groupBy&&(F=st(F)),f.isCreatable&&(F=$e(F,f.filterText)),F}function $e(f,F){if(F.length===0)return f;const te=fe(F);return f[0]&&F===f[0][R]?f:(te.isCreator=!0,[...f,te])}let{selectedValue:He=null}=e,se,at,lt,wt,Pt,Ae;const Bt=Vl(async()=>{t(4,ae=!0);let f=await re(b).catch(F=>{console.warn("svelte-select loadOptions error :>> ",F),h("error",{type:"loadOptions",details:F})});f&&!f.cancelled&&(f?(f&&f.length>0&&typeof f[0]!="object"&&(f=bi(f)),t(81,n=[...f]),h("loaded",{items:n})):t(81,n=[]),j&&t(81,n=$e(n,b)),t(4,ae=!1),t(1,y=!0),t(5,O=!0))},le);function Vt(){typeof _=="string"?t(2,_={[L]:_,label:_}):S&&Array.isArray(_)&&_.length>0&&t(2,_=_.map(f=>typeof f=="string"?{value:f,label:f}:f))}let ot;function _t(){t(31,ot=Object.assign({autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:!1,tabindex:0,type:"text","aria-autocomplete":"list"},Ue)),d&&t(31,ot.id=d,ot),Pe||t(31,ot.readonly=!0,ot)}function st(f){const F=[],te={};f.forEach(ct=>{const Ke=N(ct);F.includes(Ke)||(F.push(Ke),te[Ke]=[],Ke&&te[Ke].push(Object.assign(me(Ke,ct),{id:Ke,isGroupHeader:!0,isSelectable:D}))),te[Ke].push(Object.assign({isGroupItem:!!Ke},ct))});const Re=[];return Q(F).forEach(ct=>{Re.push(...te[ct])}),Re}function bt(){if(S){JSON.stringify(_)!==JSON.stringify(at)&&Gt()&&h("select",_);return}(!at||JSON.stringify(_[L])!==JSON.stringify(at[L]))&&h("select",_)}function ur(){y||O?Mt():T&&T.blur()}function Zt(){_&&(Array.isArray(_)?t(2,_=[..._]):t(2,_=[_]))}function vt(){_&&t(2,_=null)}function cr(){b.length!==0&&(t(1,y=!0),t(5,O=!0),re?Bt():(t(5,O=!0),S&&t(30,se=void 0)))}Oi(async()=>{t(77,at=_),t(78,lt=b),t(79,wt=y),t(80,Pt=S)});function Gt(){let f=!0;if(_){const F=[],te=[];_.forEach(Re=>{F.includes(Re[L])?f=!1:(F.push(Re[L]),te.push(Re))}),f||t(2,_=te)}return f}function yt(f){let F=f?f[L]:_[L];return V.find(te=>te[L]===F)}function Qt(f){!f||f.length===0||f.some(F=>typeof F!="object")||!_||(S?_.some(F=>!F||!F[L]):!_[L])||(Array.isArray(_)?t(2,_=_.map(F=>yt(F)||F)):t(2,_=yt()||_))}function Ve(f){const{detail:F}=f,te=_[F?F.i:_.length-1];_.length===1?t(2,_=void 0):t(2,_=_.filter(Re=>Re!==te)),h("clear",te)}function At(f){if(!!y)switch(f.key){case"ArrowDown":f.preventDefault(),t(5,O=!0),t(30,se=void 0);break;case"ArrowUp":f.preventDefault(),t(5,O=!0),t(30,se=void 0);break;case"Tab":O||t(1,y=!1);break;case"Backspace":if(!S||b.length>0)return;if(S&&_&&_.length>0){if(Ve(se!==void 0?se:_.length-1),se===0||se===void 0)break;t(30,se=_.length>se?se-1:void 0)}break;case"ArrowLeft":if(!S||b.length>0)return;se===void 0?t(30,se=_.length-1):_.length>se&&se!==0&&t(30,se-=1);break;case"ArrowRight":if(!S||b.length>0||se===void 0)return;se===_.length-1?t(30,se=void 0):se<_.length-1&&t(30,se+=1);break}}function Mt(){t(1,y=!0),T&&T.focus()}function Xt(f){if(!g)return;const F=f.path&&f.path.length>0?f.path[0]:f.target;g.contains(F)||g.contains(f.relatedTarget)||(t(1,y=!1),t(5,O=!1),t(30,se=void 0),T&&T.blur())}function xt(){G||(t(1,y=!0),t(5,O=!O))}function $t(){t(2,_=void 0),t(5,O=!1),h("clear",_),Mt()}Jr(()=>{y&&T&&T.focus()});function er(f){const{detail:F}=f;if(F){t(3,b="");const te=Object.assign({},F);(!te.isGroupHeader||te.isSelectable)&&(S?t(2,_=_?_.concat([te]):[te]):t(2,_=te),t(2,_),setTimeout(()=>{t(5,O=!1),t(30,se=void 0)}))}}function Ut(f){const{detail:F}=f;S?(t(2,_=_||[]),t(2,_=[..._,fe(F)])):t(2,_=fe(F)),h("itemCreated",F),t(3,b=""),t(5,O=!1),t(30,se=void 0)}function De(){t(3,b=""),t(5,O=!1)}let{ariaValues:xe=f=>`Option ${f}, selected.`}=e,{ariaListOpen:Ne=(f,F)=>`You are currently focused on option ${f}. There are ${F} results available.`}=e,{ariaFocused:U=()=>"Select is focused, type to refine list, press down to open the menu."}=e;function ce(){let f;return S&&_.length>0?f=_.map(F=>de(F)).join(", "):f=de(_),xe(f)}function ge(){if(!y||!n||n.length===0)return"";let f=n[Ae];if(O&&f){let F=de(f),te=n?n.length:0;return Ne(F,te)}else return U()}function ze(f){Ft[f?"unshift":"push"](()=>{T=f,t(6,T)})}function fr(){b=this.value,t(3,b)}function hr(f){Ae=f,t(28,Ae)}function ut(f){Ft[f?"unshift":"push"](()=>{g=f,t(0,g)})}return r.$$set=f=>{"id"in f&&t(46,d=f.id),"container"in f&&t(0,g=f.container),"input"in f&&t(6,T=f.input),"isMulti"in f&&t(7,S=f.isMulti),"multiFullItemClearable"in f&&t(8,C=f.multiFullItemClearable),"isDisabled"in f&&t(9,G=f.isDisabled),"isCreatable"in f&&t(47,j=f.isCreatable),"isFocused"in f&&t(1,y=f.isFocused),"value"in f&&t(2,_=f.value),"filterText"in f&&t(3,b=f.filterText),"placeholder"in f&&t(48,P=f.placeholder),"placeholderAlwaysShow"in f&&t(49,ue=f.placeholderAlwaysShow),"items"in f&&t(50,V=f.items),"itemFilter"in f&&t(51,W=f.itemFilter),"groupBy"in f&&t(52,N=f.groupBy),"groupFilter"in f&&t(53,Q=f.groupFilter),"isGroupHeaderSelectable"in f&&t(54,D=f.isGroupHeaderSelectable),"getGroupHeaderLabel"in f&&t(55,H=f.getGroupHeaderLabel),"labelIdentifier"in f&&t(56,R=f.labelIdentifier),"getOptionLabel"in f&&t(57,p=f.getOptionLabel),"optionIdentifier"in f&&t(58,L=f.optionIdentifier),"loadOptions"in f&&t(59,re=f.loadOptions),"hasError"in f&&t(10,ie=f.hasError),"containerStyles"in f&&t(11,he=f.containerStyles),"getSelectionLabel"in f&&t(12,de=f.getSelectionLabel),"createGroupHeaderItem"in f&&t(60,me=f.createGroupHeaderItem),"createItem"in f&&t(61,fe=f.createItem),"isSearchable"in f&&t(13,Pe=f.isSearchable),"inputStyles"in f&&t(14,oe=f.inputStyles),"isClearable"in f&&t(15,Me=f.isClearable),"isWaiting"in f&&t(4,ae=f.isWaiting),"listPlacement"in f&&t(63,k=f.listPlacement),"listOpen"in f&&t(5,O=f.listOpen),"isVirtualList"in f&&t(64,A=f.isVirtualList),"loadOptionsInterval"in f&&t(65,le=f.loadOptionsInterval),"noOptionsMessage"in f&&t(66,I=f.noOptionsMessage),"hideEmptyState"in f&&t(67,ve=f.hideEmptyState),"inputAttributes"in f&&t(16,Ue=f.inputAttributes),"listAutoWidth"in f&&t(68,nt=f.listAutoWidth),"itemHeight"in f&&t(69,Se=f.itemHeight),"Icon"in f&&t(17,Qe=f.Icon),"iconProps"in f&&t(18,it=f.iconProps),"showChevron"in f&&t(19,mt=f.showChevron),"showIndicator"in f&&t(20,Be=f.showIndicator),"containerClasses"in f&&t(21,_e=f.containerClasses),"indicatorSvg"in f&&t(22,It=f.indicatorSvg),"listOffset"in f&&t(70,Lt=f.listOffset),"ClearIcon"in f&&t(23,Xe=f.ClearIcon),"Item"in f&&t(71,gt=f.Item),"List"in f&&t(24,St=f.List),"Selection"in f&&t(25,jt=f.Selection),"MultiSelection"in f&&t(26,qt=f.MultiSelection),"VirtualList"in f&&t(72,Ct=f.VirtualList),"selectedValue"in f&&t(73,He=f.selectedValue),"ariaValues"in f&&t(74,xe=f.ariaValues),"ariaListOpen"in f&&t(75,Ne=f.ariaListOpen),"ariaFocused"in f&&t(76,U=f.ariaFocused)},r.$$.update=()=>{r.$$.dirty[0]&140|r.$$.dirty[1]&405340160&&t(81,n=We({loadOptions:re,filterText:b,items:V,value:_,isMulti:S,optionIdentifier:L,groupBy:N,isCreatable:j})),r.$$.dirty[2]&2048&&He&&console.warn("selectedValue is no longer used. Please use value instead."),r.$$.dirty[1]&524288&&Qt(V),r.$$.dirty[0]&4&&_&&Vt(),r.$$.dirty[0]&73728&&(Ue||!Pe)&&_t(),r.$$.dirty[0]&128|r.$$.dirty[2]&262144&&(S&&Zt(),Pt&&!S&&vt()),r.$$.dirty[0]&132&&S&&_&&_.length>1&&Gt(),r.$$.dirty[0]&4&&_&&bt(),r.$$.dirty[0]&132|r.$$.dirty[2]&32768&&!_&&S&&at&&h("select",_),r.$$.dirty[0]&2|r.$$.dirty[2]&131072&&y!==wt&&ur(),r.$$.dirty[0]&8|r.$$.dirty[2]&65536&&b!==lt&&cr(),r.$$.dirty[0]&12&&t(29,i=_&&b.length===0),r.$$.dirty[0]&536904208&&t(37,l=i&&Me&&!G&&!ae),r.$$.dirty[0]&132|r.$$.dirty[1]&393216&&t(36,a=ue&&S?P:_?"":P),r.$$.dirty[0]&132&&t(35,o=S&&_&&_.length>0),r.$$.dirty[0]&141|r.$$.dirty[1]&218103808|r.$$.dirty[2]&526326&&t(34,s={Item:gt,filterText:b,optionIdentifier:L,noOptionsMessage:I,hideEmptyState:ve,isVirtualList:A,VirtualList:Ct,value:_,isMulti:S,getGroupHeaderLabel:H,items:n,itemHeight:Se,getOptionLabel:p,listPlacement:k,parent:g,listAutoWidth:nt,listOffset:Lt}),r.$$.dirty[0]&132&&t(33,u=_?ce():""),r.$$.dirty[0]&268435490|r.$$.dirty[2]&524288&&t(32,m=ge())},[g,y,_,b,ae,O,T,S,C,G,ie,he,de,Pe,oe,Me,Ue,Qe,it,mt,Be,_e,It,Xe,St,jt,qt,$t,Ae,i,se,ot,m,u,s,o,a,l,Ve,At,Mt,Xt,xt,er,Ut,De,d,j,P,ue,V,W,N,Q,D,H,R,p,L,re,me,fe,rt,k,A,le,I,ve,nt,Se,Lt,gt,Ct,He,xe,Ne,U,at,lt,wt,Pt,n,ze,fr,hr,ut]}class Kl extends ht{constructor(e){super(),dt(this,e,zl,Wl,Ye,{id:46,container:0,input:6,isMulti:7,multiFullItemClearable:8,isDisabled:9,isCreatable:47,isFocused:1,value:2,filterText:3,placeholder:48,placeholderAlwaysShow:49,items:50,itemFilter:51,groupBy:52,groupFilter:53,isGroupHeaderSelectable:54,getGroupHeaderLabel:55,labelIdentifier:56,getOptionLabel:57,optionIdentifier:58,loadOptions:59,hasError:10,containerStyles:11,getSelectionLabel:12,createGroupHeaderItem:60,createItem:61,getFilteredItems:62,isSearchable:13,inputStyles:14,isClearable:15,isWaiting:4,listPlacement:63,listOpen:5,isVirtualList:64,loadOptionsInterval:65,noOptionsMessage:66,hideEmptyState:67,inputAttributes:16,listAutoWidth:68,itemHeight:69,Icon:17,iconProps:18,showChevron:19,showIndicator:20,containerClasses:21,indicatorSvg:22,listOffset:70,ClearIcon:23,Item:71,List:24,Selection:25,MultiSelection:26,VirtualList:72,selectedValue:73,handleClear:27,ariaValues:74,ariaListOpen:75,ariaFocused:76},null,[-1,-1,-1,-1])}get getFilteredItems(){return this.$$.ctx[62]}get handleClear(){return this.$$.ctx[27]}}const{getPrototypeOf:Jl,getOwnPropertyDescriptors:Zs}=Object;Jl({});function we(r,e,t){return{resolve(n=t){return`${r}@${e}/${n}`}}}const Yl=we("d3","7.6.1","dist/d3.min.js"),Zl=we("@observablehq/inputs","0.10.4","dist/inputs.min.js"),Ql=we("@observablehq/plot","0.6.0","dist/plot.umd.min.js"),Xl=we("@observablehq/graphviz","0.2.1","dist/graphviz.min.js"),Rr=we("@observablehq/highlight.js","2.0.0","highlight.min.js"),vi=we("@observablehq/katex","0.11.1","dist/katex.min.js"),$l=we("lodash","4.17.21","lodash.min.js"),eo=we("htl","0.3.1","dist/htl.min.js"),to=we("jszip","3.10.0","dist/jszip.min.js"),ro=we("marked","0.3.12","marked.min.js"),wi=we("sql.js","1.7.0","dist/sql-wasm.js"),no=we("vega","5.22.1","build/vega.min.js"),io=we("vega-lite","5.5.0","build/vega-lite.min.js"),ao=we("vega-lite-api","5.0.0","build/vega-lite-api.min.js"),qr=we("apache-arrow","4.0.1","Arrow.es2015.min.js"),zi=we("apache-arrow","9.0.0","+esm"),lo=we("arquero","4.8.8","dist/arquero.min.js"),oo=we("topojson-client","3.1.0","dist/topojson-client.min.js"),so=we("exceljs","4.3.0","dist/exceljs.min.js"),uo=we("mermaid","9.1.6","dist/mermaid.min.js"),_i=we("leaflet","1.8.0","dist/leaflet.js"),rr=we("@duckdb/duckdb-wasm","1.17.0","+esm"),wr=new Map,lr=[],Br=lr.map,co=lr.some,fo=lr.hasOwnProperty,ho=/^((?:@[^/@]+\/)?[^/@]+)(?:@([^/]+))?(?:\/(.*))?$/,mo=/^\d+\.\d+\.\d+(-[\w-.+]+)?$/,yi=/(?:\.[^/]*|\/)$/;class Yt extends Error{constructor(e){super(e)}}Yt.prototype.name=Yt.name;function pi(r){const e=ho.exec(r);return e&&{name:e[1],version:e[2],path:e[3]}}function Ki(r="https://cdn.jsdelivr.net/npm/",e=["unpkg","jsdelivr","browser","main"]){if(!/\/$/.test(r))throw new Error("origin lacks trailing slash");function t(i){for(const l of e){let a=i[l];if(typeof a=="string")return a.startsWith("./")&&(a=a.slice(2)),yi.test(a)?a:`${a}.js`}}function n(i){const l=`${r}${i.name}${i.version?`@${i.version}`:""}/package.json`;let a=wr.get(l);return a||wr.set(l,a=fetch(l).then(o=>{if(!o.ok)throw new Yt("unable to load package.json");return o.redirected&&!wr.has(o.url)&&wr.set(o.url,a),o.json()})),a}return async function(l,a){if(l.startsWith(r)&&(l=l.substring(r.length)),/^(\w+:)|\/\//i.test(l))return l;if(/^[.]{0,2}\//i.test(l))return new URL(l,a==null?location:a).href;if(!l.length||/^[\s._]/.test(l)||/\s$/.test(l))throw new Yt("illegal name");const o=pi(l);if(!o)return`${r}${l}`;if(!o.version&&a!=null&&a.startsWith(r)){const u=await n(pi(a.substring(r.length)));o.version=u.dependencies&&u.dependencies[o.name]||u.peerDependencies&&u.peerDependencies[o.name]}if(o.path&&!yi.test(o.path)&&(o.path+=".js"),o.path&&o.version&&mo.test(o.version))return`${r}${o.name}@${o.version}/${o.path}`;const s=await n(o);return`${r}${s.name}@${s.version}/${o.path||t(s)||"index.js"}`}}var go=Pr(Ki());function Pr(r){const e=new Map,t=i(null);function n(o){if(typeof o!="string")return o;let s=e.get(o);return s||e.set(o,s=new Promise((u,m)=>{const h=document.createElement("script");h.onload=()=>{try{u(lr.pop()(i(o)))}catch{m(new Yt("invalid module"))}h.remove()},h.onerror=()=>{m(new Yt("unable to load module")),h.remove()},h.async=!0,h.src=o,window.define=Ji,document.head.appendChild(h)})),s}function i(o){return s=>Promise.resolve(r(s,o)).then(n)}function l(o){return Pr((s,u)=>s in o&&(s=o[s],u=null,typeof s!="string")?s:r(s,u))}function a(o){return arguments.length>1?Promise.all(Br.call(arguments,t)).then(bo):t(o)}return a.alias=l,a.resolve=r,a}function bo(r){const e={};for(const t of r)for(const n in t)fo.call(t,n)&&(t[n]==null?Object.defineProperty(e,n,{get:vo(t,n)}):e[n]=t[n]);return e}function vo(r,e){return()=>r[e]}function wo(r){return r=r+"",r==="exports"||r==="module"}function Ji(r,e,t){const n=arguments.length;n<2?(t=r,e=[]):n<3&&(t=e,e=typeof r=="string"?[]:r),lr.push(co.call(e,wo)?i=>{const l={},a={exports:l};return Promise.all(Br.call(e,o=>(o=o+"",o==="exports"?l:o==="module"?a:i(o)))).then(o=>(t.apply(null,o),a.exports))}:i=>Promise.all(Br.call(e,i)).then(l=>typeof t=="function"?t.apply(null,l):t))}Ji.amd={};const Ot="https://cdn.observableusercontent.com/npm/";let Et=go;function _o(r){Et=r}function yo(r){return r==null?Et:Pr(r)}async function Yi(r){const[e,t]=await Promise.all([r(wi.resolve()),r.resolve(wi.resolve("dist/"))]);return e({locateFile:n=>`${t}${n}`})}class or{constructor(e){Object.defineProperties(this,{_db:{value:e}})}static async open(e){const[t,n]=await Promise.all([Yi(Et),Promise.resolve(e).then(Vr)]);return new or(new t.Database(n))}async query(e,t){return await ko(this._db,e,t)}async queryRow(e,t){return(await this.query(e,t))[0]||null}async explain(e,t){const n=await this.query(`EXPLAIN QUERY PLAN ${e}`,t);return kt("pre",{className:"observablehq--inspect"},[Fr(n.map(i=>i.detail).join(`
`))])}async describeTables({schema:e}={}){return this.query(`SELECT NULLIF(schema, 'main') AS schema, name FROM pragma_table_list() WHERE type = 'table'${e==null?"":" AND schema = ?"} AND name NOT LIKE 'sqlite_%'`,e==null?[]:[e])}async describeColumns({schema:e,table:t}={}){if(t==null)throw new Error("missing table");const n=await this.query(`SELECT name, type, "notnull" FROM pragma_table_info(?${e==null?"":", ?"}) ORDER BY cid`,e==null?[t]:[t,e]);if(!n.length)throw new Error(`table not found: ${t}`);return n.map(({name:i,type:l,notnull:a})=>({name:i,type:po(l),databaseType:l,nullable:!a}))}async describe(e){const t=await(e===void 0?this.query("SELECT name FROM sqlite_master WHERE type = 'table'"):this.query("SELECT * FROM pragma_table_info(?)",[e]));if(!t.length)throw new Error("Not found");const{columns:n}=t;return kt("table",{value:t},[kt("thead",[kt("tr",n.map(i=>kt("th",[Fr(i)])))]),kt("tbody",t.map(i=>kt("tr",n.map(l=>kt("td",[Fr(i[l])])))))])}async sql(){return this.query(...this.queryTag.apply(this,arguments))}queryTag(e,...t){return[e.join("?"),t]}}Object.defineProperty(or.prototype,"dialect",{value:"sqlite"});function po(r){switch(r){case"NULL":return"null";case"INT":case"INTEGER":case"TINYINT":case"SMALLINT":case"MEDIUMINT":case"BIGINT":case"UNSIGNED BIG INT":case"INT2":case"INT8":return"integer";case"TEXT":case"CLOB":return"string";case"REAL":case"DOUBLE":case"DOUBLE PRECISION":case"FLOAT":case"NUMERIC":return"number";case"BLOB":return"buffer";case"DATE":case"DATETIME":return"string";default:return/^(?:(?:(?:VARYING|NATIVE) )?CHARACTER|(?:N|VAR|NVAR)CHAR)\(/.test(r)?"string":/^(?:DECIMAL|NUMERIC)\(/.test(r)?"number":"other"}}function Vr(r){return typeof r=="string"?fetch(r).then(Vr):r instanceof Response||r instanceof Blob?r.arrayBuffer().then(Vr):r instanceof ArrayBuffer?new Uint8Array(r):r}async function ko(r,e,t){const[n]=await r.exec(e,t);if(!n)return[];const{columns:i,values:l}=n,a=l.map(o=>Object.fromEntries(o.map((s,u)=>[i[u],s])));return a.columns=i,a}function kt(r,e,t){arguments.length===2&&(t=e,e=void 0);const n=document.createElement(r);if(e!==void 0)for(const i in e)n[i]=e[i];if(t!==void 0)for(const i of t)n.appendChild(i);return n}function Fr(r){return document.createTextNode(r)}class To{constructor(e){Object.defineProperties(this,{_:{value:e},sheetNames:{value:e.worksheets.map(t=>t.name),enumerable:!0}})}sheet(e,t){const n=typeof e=="number"?this.sheetNames[e]:this.sheetNames.includes(e+="")?e:null;if(n==null)throw new Error(`Sheet not found: ${e}`);const i=this._.getWorksheet(n);return Eo(i,t)}}function Eo(r,{range:e,headers:t}={}){let[[n,i],[l,a]]=Io(e,r);const o=t?r._rows[i++]:null;let s=new Set(["#"]);for(let m=n;m<=l;m++){const h=o?ki(o.findCell(m+1)):null;let d=h&&h+""||Lo(m);for(;s.has(d);)d+="_";s.add(d)}s=new Array(n).concat(Array.from(s));const u=new Array(a-i+1);for(let m=i;m<=a;m++){const h=u[m-i]=Object.create(null,{"#":{value:m+1}}),d=r.getRow(m+1);if(d.hasValues)for(let g=n;g<=l;g++){const T=ki(d.findCell(g+1));T!=null&&(h[s[g+1]]=T)}}return u.columns=s.filter(()=>!0),u}function ki(r){if(!r)return;const{value:e}=r;if(e&&typeof e=="object"&&!(e instanceof Date)){if(e.formula||e.sharedFormula)return e.result&&e.result.error?NaN:e.result;if(e.richText)return Ti(e);if(e.text){let{text:t}=e;return t.richText&&(t=Ti(t)),e.hyperlink&&e.hyperlink!==t?`${e.hyperlink} ${t}`:t}return e}return e}function Ti(r){return r.richText.map(e=>e.text).join("")}function Io(r=":",{columnCount:e,rowCount:t}){if(r+="",!r.match(/^[A-Z]*\d*:[A-Z]*\d*$/))throw new Error("Malformed range specifier");const[[n=0,i=0],[l=e-1,a=t-1]]=r.split(":").map(So);return[[n,i],[l,a]]}function Lo(r){let e="";r++;do e=String.fromCharCode(64+(r%26||26))+e;while(r=Math.floor((r-1)/26));return e}function So(r){const[,e,t]=r.match(/^([A-Z]*)(\d*)$/);let n=0;if(e)for(let i=0;i<e.length;i++)n+=Math.pow(26,e.length-i-1)*(e.charCodeAt(i)-64);return[n?n-1:void 0,t?+t-1:void 0]}async function Tt(r){const e=await fetch(await r.url());if(!e.ok)throw new Error(`Unable to load file: ${r.name}`);return e}async function Ei(r,e,{array:t=!1,typed:n=!1}={}){const i=await r.text();return(e==="	"?t?tl:el:t?$a:Xa)(i,n&&rl)}class en{constructor(e,t){Object.defineProperty(this,"name",{value:e,enumerable:!0}),t!==void 0&&Object.defineProperty(this,"mimeType",{value:t+"",enumerable:!0})}async blob(){return(await Tt(this)).blob()}async arrayBuffer(){return(await Tt(this)).arrayBuffer()}async text(){return(await Tt(this)).text()}async json(){return(await Tt(this)).json()}async stream(){return(await Tt(this)).body}async csv(e){return Ei(this,",",e)}async tsv(e){return Ei(this,"	",e)}async image(e){const t=await this.url();return new Promise((n,i)=>{const l=new Image;new URL(t,document.baseURI).origin!==new URL(location).origin&&(l.crossOrigin="anonymous"),Object.assign(l,e),l.onload=()=>n(l),l.onerror=()=>i(new Error(`Unable to load file: ${this.name}`)),l.src=t})}async arrow({version:e=4}={}){switch(e){case 4:{const[t,n]=await Promise.all([Et(qr.resolve()),Tt(this)]);return t.Table.from(n)}case 9:{const[t,n]=await Promise.all([Qr(()=>import(`${Ot}${zi.resolve()}`),[],import.meta.url),Tt(this)]);return t.tableFromIPC(n)}default:throw new Error(`unsupported arrow version: ${e}`)}}async sqlite(){return or.open(Tt(this))}async zip(){const[e,t]=await Promise.all([Et(to.resolve()),this.arrayBuffer()]);return new Po(await e.loadAsync(t))}async xml(e="application/xml"){return new DOMParser().parseFromString(await this.text(),e)}async html(){return this.xml("text/html")}async xlsx(){const[e,t]=await Promise.all([Et(so.resolve()),this.arrayBuffer()]);return new To(await new e.Workbook().xlsx.load(t))}}class Fe extends en{constructor(e,t,n){super(t,n),Object.defineProperty(this,"_url",{value:e})}async url(){return await this._url+""}}function Co(r){throw new Error(`File not found: ${r}`)}class Po{constructor(e){Object.defineProperty(this,"_",{value:e}),this.filenames=Object.keys(e.files).filter(t=>!e.files[t].dir)}file(e){const t=this._.file(e+="");if(!t||t.dir)throw new Error(`file not found: ${e}`);return new Ao(t)}}class Ao extends en{constructor(e){super(e.name),Object.defineProperty(this,"_",{value:e}),Object.defineProperty(this,"_url",{writable:!0})}async url(){return this._url||(this._url=this.blob().then(URL.createObjectURL))}async blob(){return this._.async("blob")}async arrayBuffer(){return this._.async("arraybuffer")}async text(){return this._.async("text")}async json(){return JSON.parse(await this.text())}}function Mo(r,e){var t=document.createElement("canvas");return t.width=r,t.height=e,t}function xo(r,e,t){t==null&&(t=devicePixelRatio);var n=document.createElement("canvas");n.width=r*t,n.height=e*t,n.style.width=r+"px";var i=n.getContext("2d");return i.scale(t,t),i}function No(r,e="untitled",t="Save"){const n=document.createElement("a"),i=n.appendChild(document.createElement("button"));i.textContent=t,n.download=e;async function l(){await new Promise(requestAnimationFrame),URL.revokeObjectURL(n.href),n.removeAttribute("href"),i.textContent=t,i.disabled=!1}return n.onclick=async a=>{if(i.disabled=!0,n.href)return l();i.textContent="Saving\u2026";try{const o=await(typeof r=="function"?r():r);i.textContent="Download",n.href=URL.createObjectURL(o)}catch{i.textContent=t}if(a.eventPhase)return l();i.disabled=!1},n}var _r={math:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Oo(r,e){var t=r+="",n=t.indexOf(":"),i;n>=0&&(t=r.slice(0,n))!=="xmlns"&&(r=r.slice(n+1));var l=_r.hasOwnProperty(t)?document.createElementNS(_r[t],r):document.createElement(r);if(e)for(var a in e)t=a,n=t.indexOf(":"),i=e[a],n>=0&&(t=a.slice(0,n))!=="xmlns"&&(a=a.slice(n+1)),_r.hasOwnProperty(t)?l.setAttributeNS(_r[t],a,i):l.setAttribute(a,i);return l}function Do(r){var e=document.createElement("input");return r!=null&&(e.type=r),e}function Ro(r,e,t){arguments.length===1&&(e=r,r=null);var n=document.createElement("input");return n.min=r=r==null?0:+r,n.max=e=e==null?1:+e,n.step=t==null?"any":t=+t,n.type="range",n}function Fo(r){var e=document.createElement("select");return Array.prototype.forEach.call(r,function(t){var n=document.createElement("option");n.value=n.textContent=t,e.appendChild(n)}),e}function Ho(r,e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");return t.setAttribute("viewBox",[0,0,r,e]),t.setAttribute("width",r),t.setAttribute("height",e),t}function jo(r){return document.createTextNode(r)}var qo=0;function Zi(r){return new Qi("O-"+(r==null?"":r+"-")+ ++qo)}function Qi(r){this.id=r,this.href=new URL(`#${r}`,location)+""}Qi.prototype.toString=function(){return"url("+this.href+")"};const Bo=Object.freeze(Object.defineProperty({__proto__:null,canvas:Mo,context2d:xo,download:No,element:Oo,input:Do,range:Ro,select:Fo,svg:Ho,text:jo,uid:Zi},Symbol.toStringTag,{value:"Module"}));function Vo(r){return new Promise(function(e,t){var n=new FileReader;n.onload=function(){e(n.result)},n.onerror=t,n.readAsArrayBuffer(r)})}function Go(r){return new Promise(function(e,t){var n=new FileReader;n.onload=function(){e(n.result)},n.onerror=t,n.readAsText(r)})}function Uo(r){return new Promise(function(e,t){var n=new FileReader;n.onload=function(){e(n.result)},n.onerror=t,n.readAsDataURL(r)})}const Wo=Object.freeze(Object.defineProperty({__proto__:null,buffer:Vo,text:Go,url:Uo},Symbol.toStringTag,{value:"Module"}));function tn(){return this}function Xi(r,e){let t=!1;if(typeof e!="function")throw new Error("dispose is not a function");return{[Symbol.iterator]:tn,next:()=>t?{done:!0}:(t=!0,{done:!1,value:r}),return:()=>(t=!0,e(r),{done:!0}),throw:()=>({done:t=!0})}}function*zo(r,e){for(var t,n=-1;!(t=r.next()).done;)e(t.value,++n)&&(yield t.value)}function Ar(r){let e=!1,t,n;const i=r(l);if(i!=null&&typeof i!="function")throw new Error(typeof i.then=="function"?"async initializers are not supported":"initializer returned something, but not a dispose function");function l(o){return n?(n(o),n=null):e=!0,t=o}function a(){return{done:!1,value:e?(e=!1,Promise.resolve(t)):new Promise(o=>n=o)}}return{[Symbol.iterator]:tn,throw:()=>({done:!0}),return:()=>(i!=null&&i(),{done:!0}),next:a}}function Ko(r){return Ar(function(e){var t=Jo(r),n=Ii(r);function i(){e(Ii(r))}return r.addEventListener(t,i),n!==void 0&&e(n),function(){r.removeEventListener(t,i)}})}function Ii(r){switch(r.type){case"range":case"number":return r.valueAsNumber;case"date":return r.valueAsDate;case"checkbox":return r.checked;case"file":return r.multiple?r.files:r.files[0];case"select-multiple":return Array.from(r.selectedOptions,e=>e.value);default:return r.value}}function Jo(r){switch(r.type){case"button":case"submit":case"checkbox":return"click";case"file":return"change";default:return"input"}}function*Yo(r,e){for(var t,n=-1;!(t=r.next()).done;)yield e(t.value,++n)}function Zo(r){let e;const t=[],n=r(i);if(n!=null&&typeof n!="function")throw new Error(typeof n.then=="function"?"async initializers are not supported":"initializer returned something, but not a dispose function");function i(a){return t.push(a),e&&(e(t.shift()),e=null),a}function l(){return{done:!1,value:t.length?Promise.resolve(t.shift()):new Promise(a=>e=a)}}return{[Symbol.iterator]:tn,throw:()=>({done:!0}),return:()=>(n!=null&&n(),{done:!0}),next:l}}function*Qo(r,e,t){r=+r,e=+e,t=(i=arguments.length)<2?(e=r,r=0,1):i<3?1:+t;for(var n=-1,i=Math.max(0,Math.ceil((e-r)/t))|0;++n<i;)yield r+n*t}function Xo(r,e){if(!(!isFinite(e=+e)||e<0||e!==e|0)){for(var t,n=-1;!(t=r.next()).done;)if(++n===e)return t.value}}function $o(r){const e=URL.createObjectURL(new Blob([r],{type:"text/javascript"})),t=new Worker(e);return Xi(t,()=>{t.terminate(),URL.revokeObjectURL(e)})}const es=Object.freeze(Object.defineProperty({__proto__:null,disposable:Xi,filter:zo,input:Ko,map:Yo,observe:Ar,queue:Zo,range:Qo,valueAt:Xo,worker:$o},Symbol.toStringTag,{value:"Module"}));function Sr(r){return r&&typeof r.getChild=="function"&&typeof r.toArray=="function"&&r.schema&&Array.isArray(r.schema.fields)}function ts(r){return r.schema.fields.map(rs)}function rs(r){return{name:r.name,type:ns(r.type),nullable:r.nullable,databaseType:String(r.type)}}function ns(r){switch(r.typeId){case 2:return"integer";case 3:case 7:return"number";case 4:case 15:return"buffer";case 5:return"string";case 6:return"boolean";case 8:case 9:case 10:return"date";case 12:case 16:return"array";case 13:case 14:return"object";case 11:case 17:default:return"other"}}async function $i(){return await Qr(()=>import(`${Ot}${zi.resolve()}`),[],import.meta.url)}class sr{constructor(e){Object.defineProperties(this,{_db:{value:e}})}async queryStream(e,t){const n=await this._db.connect();let i,l;try{if((t==null?void 0:t.length)>0?i=await(await n.prepare(e)).send(...t):i=await n.send(e),l=await i.next(),l.done)throw new Error("missing first batch")}catch(a){throw await n.close(),a}return{schema:ts(l.value),async*readRows(){try{for(;!l.done;)yield l.value.toArray(),l=await i.next()}finally{await n.close()}}}}async query(e,t){const n=await this.queryStream(e,t),i=[];for await(const l of n.readRows())for(const a of l)i.push(a);return i.schema=n.schema,i}async queryRow(e,t){const i=(await this.queryStream(e,t)).readRows();try{const{done:l,value:a}=await i.next();return l||!a.length?null:a[0]}finally{await i.return()}}async sql(e,...t){return await this.query(e.join("?"),t)}queryTag(e,...t){return[e.join("?"),t]}escape(e){return`"${e}"`}async describeTables(){return(await this.query("SHOW TABLES")).map(({name:t})=>({name:t}))}async describeColumns({table:e}={}){return(await this.query(`DESCRIBE ${this.escape(e)}`)).map(({column_name:n,column_type:i,null:l})=>({name:n,type:as(i),nullable:l!=="NO",databaseType:i}))}static async of(e={},t={}){var i;const n=await is();return((i=t.query)==null?void 0:i.castTimestampToDate)===void 0&&(t={...t,query:{...t.query,castTimestampToDate:!0}}),await n.open(t),await Promise.all(Object.entries(e).map(async([l,a])=>{if(a instanceof Fe)await Li(n,l,a);else if(Sr(a))await Gr(n,l,a);else if(Array.isArray(a))await Si(n,l,a);else if("data"in a){const{data:o,...s}=a;Sr(o)?await Gr(n,l,o,s):await Si(n,l,o,s)}else if("file"in a){const{file:o,...s}=a;await Li(n,l,o,s)}else throw new Error(`invalid source: ${a}`)})),new sr(n)}}Object.defineProperty(sr.prototype,"dialect",{value:"duckdb"});async function Li(r,e,t,n){const i=await t.url();if(i.startsWith("blob:")){const a=await t.arrayBuffer();await r.registerFileBuffer(t.name,new Uint8Array(a))}else await r.registerFileURL(t.name,i);const l=await r.connect();try{switch(t.mimeType){case"text/csv":case"text/tab-separated-values":return await l.insertCSVFromPath(t.name,{name:e,schema:"main",...n});case"application/json":return await l.insertJSONFromPath(t.name,{name:e,schema:"main",...n});default:if(/\.arrow$/i.test(t.name)){const a=new Uint8Array(await t.arrayBuffer());return await l.insertArrowFromIPCStream(a,{name:e,schema:"main",...n})}if(/\.parquet$/i.test(t.name))return await l.query(`CREATE VIEW '${e}' AS SELECT * FROM parquet_scan('${t.name}')`);throw new Error(`unknown file type: ${t.mimeType}`)}}finally{await l.close()}}async function Gr(r,e,t,n){const i=await r.connect();try{await i.insertArrowTable(t,{name:e,schema:"main",...n})}finally{await i.close()}}async function Si(r,e,t,n){const l=(await $i()).tableFromJSON(t);return await Gr(r,e,l,n)}async function is(){const r=await Qr(()=>import(`${Ot}${rr.resolve()}`),[],import.meta.url),e=await r.selectBundle({mvp:{mainModule:`${Ot}${rr.resolve("dist/duckdb-mvp.wasm")}`,mainWorker:`${Ot}${rr.resolve("dist/duckdb-browser-mvp.worker.js")}`},eh:{mainModule:`${Ot}${rr.resolve("dist/duckdb-eh.wasm")}`,mainWorker:`${Ot}${rr.resolve("dist/duckdb-browser-eh.worker.js")}`}}),t=new r.ConsoleLogger,n=await r.createWorker(e.mainWorker),i=new r.AsyncDuckDB(t,n);return await i.instantiate(e.mainModule),i}function as(r){switch(r){case"BIGINT":case"HUGEINT":case"UBIGINT":return"bigint";case"DOUBLE":case"REAL":case"FLOAT":return"number";case"INTEGER":case"SMALLINT":case"TINYINT":case"USMALLINT":case"UINTEGER":case"UTINYINT":return"integer";case"BOOLEAN":return"boolean";case"DATE":case"TIMESTAMP":case"TIMESTAMP WITH TIME ZONE":return"date";case"VARCHAR":case"UUID":return"string";default:return/^DECIMAL\(/.test(r)?"integer":"other"}}function rn(r,e){return function(t){var n=t[0],i=[],l,a=null,o,s,u,m,h,d,g,T=-1;for(m=1,h=arguments.length;m<h;++m){if(l=arguments[m],l instanceof Node)i[++T]=l,n+="<!--o:"+T+"-->";else if(Array.isArray(l)){for(d=0,g=l.length;d<g;++d)o=l[d],o instanceof Node?(a===null&&(i[++T]=a=document.createDocumentFragment(),n+="<!--o:"+T+"-->"),a.appendChild(o)):(a=null,n+=o);a=null}else n+=l;n+=t[m]}if(a=r(n),++T>0){for(s=new Array(T),u=document.createTreeWalker(a,NodeFilter.SHOW_COMMENT,null,!1);u.nextNode();)o=u.currentNode,/^o:/.test(o.nodeValue)&&(s[+o.nodeValue.slice(2)]=o);for(m=0;m<T;++m)(o=s[m])&&o.parentNode.replaceChild(i[m],o)}return a.childNodes.length===1?a.removeChild(a.firstChild):a.nodeType===11?((o=e()).appendChild(a),o):a}}const ls=rn(function(r){var e=document.createElement("template");return e.innerHTML=r.trim(),document.importNode(e.content,!0)},function(){return document.createElement("span")});async function os(r){const e=await r(_i.resolve());if(!e._style){const t=document.createElement("link");t.rel="stylesheet",t.href=await r.resolve(_i.resolve("dist/leaflet.css")),e._style=document.head.appendChild(t)}return e}function ss(r){return r(ro.resolve()).then(function(e){return rn(function(t){var n=document.createElement("div");n.innerHTML=e(t,{langPrefix:""}).trim();var i=n.querySelectorAll("pre code[class]");return i.length>0&&r(Rr.resolve()).then(function(l){i.forEach(function(a){function o(){l.highlightBlock(a),a.parentNode.classList.add("observablehq--md-pre")}l.getLanguage(a.className)?o():r(Rr.resolve("async-languages/index.js")).then(s=>{if(s.has(a.className))return r(Rr.resolve("async-languages/"+s.get(a.className))).then(u=>{l.registerLanguage(a.className,u)})}).then(o,o)})}),n},function(){return document.createElement("div")})})}async function us(r){const e=await r(uo.resolve());return e.initialize({securityLevel:"loose",theme:"neutral"}),function(){const n=document.createElement("div");return n.innerHTML=e.render(Zi().id,String.raw.apply(String,arguments)),n.removeChild(n.firstChild)}}function cs(r){let e;Object.defineProperties(this,{generator:{value:Ar(t=>void(e=t))},value:{get:()=>r,set:t=>e(r=t)}}),r!==void 0&&e(r)}function*fs(){for(;;)yield Date.now()}function hs(r,e){return new Promise(function(t){setTimeout(function(){t(e)},r)})}var Ur=new Map;function ds(r,e){var t=new Promise(function(n){Ur.delete(e);var i=e-r;if(!(i>0))throw new Error("invalid time");if(i>2147483647)throw new Error("too long to wait");setTimeout(n,i)});return Ur.set(e,t),t}function ea(r,e){var t;return(t=Ur.get(r=+r))?t.then(()=>e):(t=Date.now())>=r?Promise.resolve(e):ds(t,r).then(()=>e)}function ms(r,e){return ea(Math.ceil((Date.now()+1)/r)*r,e)}const gs=Object.freeze(Object.defineProperty({__proto__:null,delay:hs,tick:ms,when:ea},Symbol.toStringTag,{value:"Module"}));function bs(r,e){if(/^(\w+:)|\/\//i.test(r))return r;if(/^[.]{0,2}\//i.test(r))return new URL(r,e==null?location:e).href;if(!r.length||/^[\s._]/.test(r)||/\s$/.test(r))throw new Error("illegal name");return"https://unpkg.com/"+r}const vs=rn(function(r){var e=document.createElementNS("http://www.w3.org/2000/svg","g");return e.innerHTML=r.trim(),e},function(){return document.createElementNS("http://www.w3.org/2000/svg","g")});var ws=String.raw;function _s(r){return new Promise(function(e,t){var n=document.createElement("link");n.rel="stylesheet",n.href=r,n.onerror=t,n.onload=e,document.head.appendChild(n)})}function ys(r){return Promise.all([r(vi.resolve()),r.resolve(vi.resolve("dist/katex.min.css")).then(_s)]).then(function(e){var t=e[0],n=i();function i(l){return function(){var a=document.createElement("div");return t.render(ws.apply(String,arguments),a,l),a.removeChild(a.firstChild)}}return n.options=i,n.block=i({displayMode:!0}),n})}async function ps(r){const[e,t,n]=await Promise.all([no,io,ao].map(i=>r(i.resolve())));return n.register(e,t)}function ks(){return Ar(function(r){var e=r(document.body.clientWidth);function t(){var n=document.body.clientWidth;n!==e&&r(e=n)}return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}})}const nn=20;function Ts(r,e){return r&&(typeof r.sql=="function"||typeof r.queryTag=="function"&&(typeof r.query=="function"||typeof r.queryStream=="function"))&&(e!=="table"||typeof r.describeColumns=="function")&&r!==la}function ta(r){return Array.isArray(r)&&(Ls(r.schema)||Ss(r.columns)||Es(r)||na(r)||ia(r))||aa(r)}function Es(r){const e=Math.min(nn,r.length);for(let t=0;t<e;++t){const n=r[t];if(n===null||typeof n!="object")return!1}return e>0&&Is(r[0])}function Is(r){for(const e in r)return!0;return!1}function Ls(r){return Array.isArray(r)&&r.every(e=>e&&typeof e.name=="string")}function Ss(r){return Array.isArray(r)&&r.every(e=>typeof e=="string")}function ra(r){return aa(r)||na(r)||ia(r)}function na(r){const e=Math.min(nn,r.length);if(!(e>0))return!1;let t,n=!1;for(let i=0;i<e;++i){const l=r[i];if(l==null)continue;const a=typeof l;if(t===void 0)switch(a){case"number":case"boolean":case"string":case"bigint":t=a;break;default:return!1}else if(a!==t)return!1;n=!0}return n}function ia(r){const e=Math.min(nn,r.length);if(!(e>0))return!1;let t=!1;for(let n=0;n<e;++n){const i=r[n];if(i!=null){if(!(i instanceof Date))return!1;t=!0}}return t}function aa(r){return r instanceof Int8Array||r instanceof Int16Array||r instanceof Int32Array||r instanceof Uint8Array||r instanceof Uint8ClampedArray||r instanceof Uint16Array||r instanceof Uint32Array||r instanceof Float32Array||r instanceof Float64Array}const la=Object.assign(async(r,e,t,n)=>{if(r=await Cs(await r,n),Ts(r))return Ci(r,Ns(e,r),t);if(ta(r))return Hs(r,e);throw r?new Error("invalid data source"):new Error("missing data source")},{sql(r,e,t){return async function(){return Ci(await Ps(await r,t),arguments,e)}}});function oa(r){const e=new WeakMap;return(t,n)=>{if(!t)throw new Error("data source not found");let i=e.get(t);return i||(i=r(t,n),e.set(t,i)),i}}const Cs=oa(async(r,e)=>{if(r instanceof Fe){switch(r.mimeType){case"text/csv":return r.csv({typed:!0});case"text/tab-separated-values":return r.tsv({typed:!0});case"application/json":return r.json();case"application/x-sqlite3":return r.sqlite()}if(/\.(arrow|parquet)$/i.test(r.name))return Kt(r,e);throw new Error(`unsupported file type: ${r.mimeType}`)}return Sr(r)?Kt(r,e):r}),Ps=oa(async(r,e)=>{if(r instanceof Fe){switch(r.mimeType){case"text/csv":case"text/tab-separated-values":case"application/json":return Kt(r,e);case"application/x-sqlite3":return r.sqlite()}if(/\.(arrow|parquet)$/i.test(r.name))return Kt(r,e);throw new Error(`unsupported file type: ${r.mimeType}`)}return ta(r)?Kt(await As(r,e),e):Sr(r)?Kt(r,e):r});async function As(r,e){const t=await $i();return ra(r)?t.tableFromArrays({[e]:r}):t.tableFromJSON(r)}function Kt(r,e=r instanceof Fe?Ms(r):"__table"){return sr.of({[e]:r})}function Ms(r){return r.name.replace(/@\d+(?=\.|$)/,"").replace(/\.\w+$/,"")}async function Ci(r,e,t){if(!r)throw new Error("missing data source");if(typeof r.queryTag=="function"){const n=new AbortController,i={signal:n.signal};if(t.then(()=>n.abort("invalidated")),typeof r.queryStream=="function")return xs(r.queryStream(...r.queryTag.apply(r,e),i));if(typeof r.query=="function")return r.query(...r.queryTag.apply(r,e),i)}if(typeof r.sql=="function")return r.sql.apply(r,e);throw new Error("source does not implement query, queryStream, or sql")}async function*xs(r){let e=performance.now();const t=await r,n=[];n.done=!1,n.error=null,n.schema=t.schema;try{for await(const i of t.readRows()){performance.now()-e>10&&n.length>0&&(yield n,e=performance.now());for(const l of i)n.push(l)}n.done=!0,yield n}catch(i){n.error=i,yield n}}function Ns(r,e){const t=typeof e.escape=="function"?e.escape:m=>m,{select:n,from:i,filter:l,sort:a,slice:o}=r;if(!i.table)throw new Error("missing from table");if(n.columns&&n.columns.length===0)throw new Error("at least one column must be selected");const u=[[`SELECT ${n.columns?n.columns.map(t).join(", "):"*"} FROM ${Os(i.table,t)}`]];for(let m=0;m<l.length;++m)be(m?`
AND `:`
WHERE `,u),Ds(l[m],u,t);for(let m=0;m<a.length;++m)be(m?", ":`
ORDER BY `,u),Pi(a[m],u,t);if(e.dialect==="mssql"){if(o.to!==null||o.from!==null){if(!a.length){if(!n.columns)throw new Error("at least one column must be explicitly specified. Received '*'.");be(`
ORDER BY `,u),Pi({column:n.columns[0],direction:"ASC"},u,t)}be(`
OFFSET ${o.from||0} ROWS`,u),be(`
FETCH NEXT ${o.to!==null?o.to-(o.from||0):1e9} ROWS ONLY`,u)}}else(o.to!==null||o.from!==null)&&be(`
LIMIT ${o.to!==null?o.to-(o.from||0):1e9}`,u),o.from!==null&&be(` OFFSET ${o.from}`,u);return u}function Os(r,e){if(typeof r=="object"){let t="";return r.database!=null&&(t+=e(r.database)+"."),r.schema!=null&&(t+=e(r.schema)+"."),t+=e(r.table),t}else return e(r)}function be(r,e){const t=e[0];t[t.length-1]+=r}function Pi({column:r,direction:e},t,n){be(`${n(r)} ${e.toUpperCase()}`,t)}function Ds({type:r,operands:e},t,n){if(e.length<1)throw new Error("Invalid operand length");if(e.length===1)switch(zt(e[0],t,n),r){case"n":be(" IS NULL",t);return;case"nn":be(" IS NOT NULL",t);return;default:throw new Error("Invalid filter operation")}if(e.length===2&&!["in","nin"].includes(r))if(["c","nc"].includes(r)){switch(zt(e[0],t,n),r){case"c":be(" LIKE ",t);break;case"nc":be(" NOT LIKE ",t);break}zt(Fs(e[1]),t,n);return}else{switch(zt(e[0],t,n),r){case"eq":be(" = ",t);break;case"ne":be(" <> ",t);break;case"gt":be(" > ",t);break;case"lt":be(" < ",t);break;case"gte":be(" >= ",t);break;case"lte":be(" <= ",t);break;default:throw new Error("Invalid filter operation")}zt(e[1],t,n);return}switch(zt(e[0],t,n),r){case"in":be(" IN (",t);break;case"nin":be(" NOT IN (",t);break;default:throw new Error("Invalid filter operation")}Rs(e.slice(1),t),be(")",t)}function zt(r,e,t){r.type==="column"?be(t(r.value),e):(e.push(r.value),e[0].push(""))}function Rs(r,e){let t=!0;for(const n of r)t?t=!1:be(",",e),e.push(n.value),e[0].push("")}function Fs(r){return{...r,value:`%${r.value}%`}}function Hs(r,e){const t=r;let{schema:n,columns:i}=r,l=ra(r);l&&(r=Array.from(r,s=>({value:s})));for(const{type:s,operands:u}of e.filter){const[{value:m}]=u,h=u.slice(1).map(({value:d})=>d);switch(s){case"eq":{const[d]=h;if(d instanceof Date){const g=+d;r=r.filter(T=>+T[m]===g)}else r=r.filter(g=>g[m]===d);break}case"ne":{const[d]=h;r=r.filter(g=>g[m]!==d);break}case"c":{const[d]=h;r=r.filter(g=>typeof g[m]=="string"&&g[m].includes(d));break}case"nc":{const[d]=h;r=r.filter(g=>typeof g[m]=="string"&&!g[m].includes(d));break}case"in":{const d=new Set(h);r=r.filter(g=>d.has(g[m]));break}case"nin":{const d=new Set(h);r=r.filter(g=>!d.has(g[m]));break}case"n":{r=r.filter(d=>d[m]==null);break}case"nn":{r=r.filter(d=>d[m]!=null);break}case"lt":{const[d]=h;r=r.filter(g=>g[m]<d);break}case"lte":{const[d]=h;r=r.filter(g=>g[m]<=d);break}case"gt":{const[d]=h;r=r.filter(g=>g[m]>d);break}case"gte":{const[d]=h;r=r.filter(g=>g[m]>=d);break}default:throw new Error(`unknown filter type: ${s}`)}}for(const{column:s,direction:u}of Pa(e.sort)){const m=u==="desc"?Ia:La;r===t&&(r=r.slice()),r.sort((h,d)=>m(h[s],d[s]))}let{from:a,to:o}=e.slice;if(a=a==null?0:Math.max(0,a),o=o==null?1/0:Math.max(0,o),(a>0||o<1/0)&&(r=r.slice(Math.max(0,a),Math.max(0,o))),e.select.columns){if(n){const s=new Map(n.map(u=>[u.name,u]));n=e.select.columns.map(u=>s.get(u))}i&&(i=e.select.columns),r=r.map(s=>Object.fromEntries(e.select.columns.map(u=>[u,s[u]])))}return l&&(r=r.map(s=>s.value)),r!==t&&(n&&(r.schema=n),i&&(r.columns=i)),r}Object.assign(Object.defineProperties(function(e){const t=yo(e);Object.defineProperties(this,js({FileAttachment:()=>Co,Mutable:()=>cs,now:fs,width:ks,dot:()=>t(Xl.resolve()),htl:()=>t(eo.resolve()),html:()=>ls,md:()=>ss(t),svg:()=>vs,tex:()=>ys(t),_:()=>t($l.resolve()),aq:()=>t.alias({"apache-arrow":qr.resolve()})(lo.resolve()),Arrow:()=>t(qr.resolve()),d3:()=>t(Yl.resolve()),DuckDBClient:()=>sr,Inputs:()=>t(Zl.resolve()).then(n=>({...n,file:n.fileOf(en)})),L:()=>os(t),mermaid:()=>us(t),Plot:()=>t(Ql.resolve()),__query:()=>la,require:()=>t,resolve:()=>bs,SQLite:()=>Yi(t),SQLiteDatabaseClient:()=>or,topojson:()=>t(oo.resolve()),vl:()=>ps(t),aapl:()=>new Fe("https://static.observableusercontent.com/files/3ccff97fd2d93da734e76829b2b066eafdaac6a1fafdec0faf6ebc443271cfc109d29e80dd217468fcb2aff1e6bffdc73f356cc48feb657f35378e6abbbb63b9").csv({typed:!0}),alphabet:()=>new Fe("https://static.observableusercontent.com/files/75d52e6c3130b1cae83cda89305e17b50f33e7420ef205587a135e8562bcfd22e483cf4fa2fb5df6dff66f9c5d19740be1cfaf47406286e2eb6574b49ffc685d").csv({typed:!0}),cars:()=>new Fe("https://static.observableusercontent.com/files/048ec3dfd528110c0665dfa363dd28bc516ffb7247231f3ab25005036717f5c4c232a5efc7bb74bc03037155cb72b1abe85a33d86eb9f1a336196030443be4f6").csv({typed:!0}),citywages:()=>new Fe("https://static.observableusercontent.com/files/39837ec5121fcc163131dbc2fe8c1a2e0b3423a5d1e96b5ce371e2ac2e20a290d78b71a4fb08b9fa6a0107776e17fb78af313b8ea70f4cc6648fad68ddf06f7a").csv({typed:!0}),diamonds:()=>new Fe("https://static.observableusercontent.com/files/87942b1f5d061a21fa4bb8f2162db44e3ef0f7391301f867ab5ba718b225a63091af20675f0bfe7f922db097b217b377135203a7eab34651e21a8d09f4e37252").csv({typed:!0}),flare:()=>new Fe("https://static.observableusercontent.com/files/a6b0d94a7f5828fd133765a934f4c9746d2010e2f342d335923991f31b14120de96b5cb4f160d509d8dc627f0107d7f5b5070d2516f01e4c862b5b4867533000").csv({typed:!0}),industries:()=>new Fe("https://static.observableusercontent.com/files/76f13741128340cc88798c0a0b7fa5a2df8370f57554000774ab8ee9ae785ffa2903010cad670d4939af3e9c17e5e18e7e05ed2b38b848ac2fc1a0066aa0005f").csv({typed:!0}),miserables:()=>new Fe("https://static.observableusercontent.com/files/31d904f6e21d42d4963ece9c8cc4fbd75efcbdc404bf511bc79906f0a1be68b5a01e935f65123670ed04e35ca8cae3c2b943f82bf8db49c5a67c85cbb58db052").json(),olympians:()=>new Fe("https://static.observableusercontent.com/files/31ca24545a0603dce099d10ee89ee5ae72d29fa55e8fc7c9ffb5ded87ac83060d80f1d9e21f4ae8eb04c1e8940b7287d179fe8060d887fb1f055f430e210007c").csv({typed:!0}),penguins:()=>new Fe("https://static.observableusercontent.com/files/715db1223e067f00500780077febc6cebbdd90c151d3d78317c802732252052ab0e367039872ab9c77d6ef99e5f55a0724b35ddc898a1c99cb14c31a379af80a").csv({typed:!0}),weather:()=>new Fe("https://static.observableusercontent.com/files/693a46b22b33db0f042728700e0c73e836fa13d55446df89120682d55339c6db7cc9e574d3d73f24ecc9bc7eb9ac9a1e7e104a1ee52c00aab1e77eb102913c1f").csv({typed:!0}),DOM:Bo,Files:Wo,Generators:es,Promises:gs}))},{resolve:{get:()=>Et.resolve,enumerable:!0,configurable:!0},require:{get:()=>Et,set:_o,enumerable:!0,configurable:!0}}),{resolveFrom:Ki,requireFrom:Pr});function js(r){return Object.fromEntries(Object.entries(r).map(qs))}function qs([r,e]){return[r,{value:e,writable:!0,enumerable:!0}]}class Bs extends Error{constructor(e,t){super(e),this.input=t}}Bs.prototype.name="RuntimeError";function Ai(r){let e,t;return e=new hl({props:{candidate:r[1],tracts:Sa}}),{c(){ke(e.$$.fragment)},l(n){Ze(e.$$.fragment,n)},m(n,i){Te(e,n,i),t=!0},p(n,i){const l={};i&2&&(l.candidate=n[1]),e.$set(l)},i(n){t||(B(e.$$.fragment,n),t=!0)},o(n){J(e.$$.fragment,n),t=!1},d(n){Ee(e,n)}}}function Mi(r){let e,t;return e=new vl({props:{candidate:r[1]}}),{c(){ke(e.$$.fragment)},l(n){Ze(e.$$.fragment,n)},m(n,i){Te(e,n,i),t=!0},p(n,i){const l={};i&2&&(l.candidate=n[1]),e.$set(l)},i(n){t||(B(e.$$.fragment,n),t=!0)},o(n){J(e.$$.fragment,n),t=!1},d(n){Ee(e,n)}}}function Vs(r){let e,t,n,i,l,a,o,s,u,m,h,d,g,T,S,C,G,j,y,_,b,P,ue,V,W,N,Q,D,H,R,p,L,re,ie,he,de,me,fe,rt,Pe,oe,Me,ae,k,O,A,le,I,ve,Ue,nt,Se,Qe=ye[r[1]].won+"",it,mt,Be,_e=ye[r[1]].year+"",It,Lt,Xe,gt=ye[r[1]].voteshare+"",St,jt,qt,Ct,We,$e,He,se,at,lt,wt,Pt,Ae,Bt,Vt,ot,_t,st,bt,ur=r[2],Zt,vt,cr=r[2],Gt,yt,Qt,Ve,At,Mt,Xt,xt,$t,er,Ut,De;l=new pa({}),k=new Kl({props:{items:r[7],value:r[1],isSearchable:!1,isClearable:!1}}),k.$on("select",r[8]);let xe=Ai(r),Ne=Mi(r);return{c(){e=M("link"),t=M("link"),n=M("meta"),i=Y(),ke(l.$$.fragment),a=Y(),o=M("main"),s=M("div"),u=M("h4"),m=X("Place & Politics in Toronto - Part 4"),h=Y(),d=M("div"),g=Y(),T=M("h1"),S=X("Which Candidates Are Most Alike?"),C=Y(),G=M("h3"),j=M("a"),y=X("Zack Taylor"),_=X(" & "),b=M("a"),P=X("Jeff Allen"),ue=Y(),V=M("br"),W=M("br"),N=X(" December 12, 2022"),Q=Y(),D=M("div"),H=Y(),R=M("div"),p=M("p"),L=X("In our two previous posts we used maps to show that there is remarkable continuity in the geography of support for different types of candidates across the 25 years and eight elections since Toronto\u2019s 1997 amalgamation. Support for progressive and conservative candidates is geographically concentrated. These patterns suggest that we can think more systematically about the relationships between candidates\u2019 support bases across time."),re=Y(),ie=M("p"),he=X("In this post we visualize which mayoral candidates are most alike and most unalike based on their geographic distribution of support. We do this by computing the correlation between all mayoral candidates who have received at least 5% of the vote in elections from 1997 to 2022. Specifically, we compute Pearson correlation coefficients between all candidates. These values range between -1.0 (strongest possible negative correlation) and 1.0 (strongest possible positive correlation)."),de=Y(),me=M("div"),fe=M("p"),rt=X("Below, you can select and focus on mayoral candidate from a specific election year. Once selected, it will display a map of their electoral support across the city, as well as a list of candidates from other elections ranked by their similarity."),Pe=Y(),oe=M("div"),Me=Y(),ae=M("div"),ke(k.$$.fragment),O=Y(),A=M("div"),le=M("div"),I=M("div"),ve=M("div"),Ue=X(r[5]),nt=Y(),Se=M("div"),it=X(Qe),mt=X(" the "),Be=M("span"),It=X(_e),Lt=X(" election with "),Xe=M("span"),St=X(gt),jt=X("%"),qt=X(" of the vote citywide."),Ct=Y(),We=M("div"),$e=z("svg"),He=z("rect"),at=Y(),lt=M("div"),wt=X(r[6]),Pt=Y(),Ae=M("img"),ot=Y(),_t=M("div"),st=M("div"),bt=M("div"),xe.c(),Zt=Y(),vt=M("div"),Ne.c(),Gt=Y(),yt=M("div"),Qt=Y(),Ve=M("div"),At=M("h3"),Mt=X("Data Sources:"),Xt=Y(),xt=M("p"),$t=X("This post uses the same historical neighbourhood-scale (census tract) election results as previous posts in this series. The correlation coefficients were computed in R."),er=Y(),Ut=M("p"),this.h()},l(U){const ce=ya("svelte-8uqbi3",document.head);e=x(ce,"LINK",{href:!0,rel:!0}),t=x(ce,"LINK",{href:!0,rel:!0}),n=x(ce,"META",{name:!0,content:!0}),ce.forEach(v),i=Z(U),Ze(l.$$.fragment,U),a=Z(U),o=x(U,"MAIN",{});var ge=E(o);s=x(ge,"DIV",{class:!0});var ze=E(s);u=x(ze,"H4",{});var fr=E(u);m=$(fr,"Place & Politics in Toronto - Part 4"),fr.forEach(v),h=Z(ze),d=x(ze,"DIV",{id:!0}),E(d).forEach(v),g=Z(ze),T=x(ze,"H1",{});var hr=E(T);S=$(hr,"Which Candidates Are Most Alike?"),hr.forEach(v),C=Z(ze),G=x(ze,"H3",{});var ut=E(G);j=x(ut,"A",{href:!0});var f=E(j);y=$(f,"Zack Taylor"),f.forEach(v),_=$(ut," & "),b=x(ut,"A",{href:!0});var F=E(b);P=$(F,"Jeff Allen"),F.forEach(v),ue=Z(ut),V=x(ut,"BR",{}),W=x(ut,"BR",{}),N=$(ut," December 12, 2022"),ut.forEach(v),Q=Z(ze),D=x(ze,"DIV",{id:!0}),E(D).forEach(v),ze.forEach(v),H=Z(ge),R=x(ge,"DIV",{class:!0});var te=E(R);p=x(te,"P",{});var Re=E(p);L=$(Re,"In our two previous posts we used maps to show that there is remarkable continuity in the geography of support for different types of candidates across the 25 years and eight elections since Toronto\u2019s 1997 amalgamation. Support for progressive and conservative candidates is geographically concentrated. These patterns suggest that we can think more systematically about the relationships between candidates\u2019 support bases across time."),Re.forEach(v),re=Z(te),ie=x(te,"P",{});var ct=E(ie);he=$(ct,"In this post we visualize which mayoral candidates are most alike and most unalike based on their geographic distribution of support. We do this by computing the correlation between all mayoral candidates who have received at least 5% of the vote in elections from 1997 to 2022. Specifically, we compute Pearson correlation coefficients between all candidates. These values range between -1.0 (strongest possible negative correlation) and 1.0 (strongest possible positive correlation)."),ct.forEach(v),te.forEach(v),de=Z(ge),me=x(ge,"DIV",{class:!0});var Ke=E(me);fe=x(Ke,"P",{});var an=E(fe);rt=$(an,"Below, you can select and focus on mayoral candidate from a specific election year. Once selected, it will display a map of their electoral support across the city, as well as a list of candidates from other elections ranked by their similarity."),an.forEach(v),Ke.forEach(v),Pe=Z(ge),oe=x(ge,"DIV",{id:!0}),E(oe).forEach(v),Me=Z(ge),ae=x(ge,"DIV",{class:!0});var ln=E(ae);Ze(k.$$.fragment,ln),ln.forEach(v),O=Z(ge),A=x(ge,"DIV",{class:!0});var on=E(A);le=x(on,"DIV",{id:!0,class:!0});var dr=E(le);I=x(dr,"DIV",{class:!0});var pt=E(I);ve=x(pt,"DIV",{class:!0});var sn=E(ve);Ue=$(sn,r[5]),sn.forEach(v),nt=Z(pt),Se=x(pt,"DIV",{class:!0});var Nt=E(Se);it=$(Nt,Qe),mt=$(Nt," the "),Be=x(Nt,"SPAN",{id:!0,class:!0});var un=E(Be);It=$(un,_e),un.forEach(v),Lt=$(Nt," election with "),Xe=x(Nt,"SPAN",{id:!0,class:!0});var Mr=E(Xe);St=$(Mr,gt),jt=$(Mr,"%"),Mr.forEach(v),qt=$(Nt," of the vote citywide."),Nt.forEach(v),Ct=Z(pt),We=x(pt,"DIV",{id:!0,class:!0});var cn=E(We);$e=K(cn,"svg",{width:!0,height:!0});var fn=E($e);He=K(fn,"rect",{class:!0,width:!0,height:!0,x:!0,y:!0}),E(He).forEach(v),fn.forEach(v),cn.forEach(v),at=Z(pt),lt=x(pt,"DIV",{class:!0});var hn=E(lt);wt=$(hn,r[6]),hn.forEach(v),pt.forEach(v),Pt=Z(dr),Ae=x(dr,"IMG",{class:!0,src:!0,alt:!0,width:!0,height:!0}),dr.forEach(v),on.forEach(v),ot=Z(ge),_t=x(ge,"DIV",{class:!0});var dn=E(_t);st=x(dn,"DIV",{class:!0});var mr=E(st);bt=x(mr,"DIV",{class:!0});var mn=E(bt);xe.l(mn),mn.forEach(v),Zt=Z(mr),vt=x(mr,"DIV",{class:!0});var gn=E(vt);Ne.l(gn),gn.forEach(v),mr.forEach(v),dn.forEach(v),Gt=Z(ge),yt=x(ge,"DIV",{id:!0}),E(yt).forEach(v),Qt=Z(ge),Ve=x(ge,"DIV",{class:!0});var Wt=E(Ve);At=x(Wt,"H3",{});var bn=E(At);Mt=$(bn,"Data Sources:"),bn.forEach(v),Xt=Z(Wt),xt=x(Wt,"P",{});var vn=E(xt);$t=$(vn,"This post uses the same historical neighbourhood-scale (census tract) election results as previous posts in this series. The correlation coefficients were computed in R."),vn.forEach(v),er=Z(Wt),Ut=x(Wt,"P",{});var sa=E(Ut);sa.forEach(v),Wt.forEach(v),ge.forEach(v),this.h()},h(){c(e,"href","https://fonts.googleapis.com/css2?family=Bitter&family=Playfair+Display&display=swap"),c(e,"rel","stylesheet"),c(t,"href","https://fonts.googleapis.com/css2?family=Roboto:wght@400;700;900&family=Source+Serif+Pro&display=swap"),c(t,"rel","stylesheet"),c(n,"name","viewport"),c(n,"content","width=device-width, initial-scale=1, minimum-scale=1"),c(d,"id","mini-line"),c(j,"href","https://zacktaylor.com/"),c(b,"href","https://jamaps.github.io/"),c(D,"id","mini-line"),c(s,"class","title"),c(R,"class","text"),c(me,"class","text"),c(oe,"id","mini-line"),c(ae,"class","select svelte-1hob1u8"),c(ve,"class","candidate-title svelte-1hob1u8"),c(Be,"id","yearText"),c(Be,"class","svelte-1hob1u8"),c(Xe,"id","votePercent"),c(Xe,"class","svelte-1hob1u8"),c(Se,"class","candidate-body-web svelte-1hob1u8"),c(He,"class","barPercent svelte-1hob1u8"),c(He,"width",r[3]),c(He,"height","10"),c(He,"x","0"),c(He,"y","0"),c($e,"width",r[3]),c($e,"height","20"),c(We,"id","barChart"),c(We,"class","svelte-1hob1u8"),Wr(()=>r[9].call(We)),c(lt,"class","candidate-body-web svelte-1hob1u8"),c(I,"class","candidate-text svelte-1hob1u8"),c(Ae,"class","face svelte-1hob1u8"),pn(Ae.src,Bt=r[4])||c(Ae,"src",Bt),c(Ae,"alt",Vt=ye[r[1]].fullname),c(Ae,"width","183"),c(Ae,"height","183"),c(le,"id","wrapper-info"),c(le,"class","svelte-1hob1u8"),c(A,"class","candidate-info svelte-1hob1u8"),c(bt,"class","mapCorSmall svelte-1hob1u8"),c(vt,"class","corplot svelte-1hob1u8"),c(st,"class","plotGrid svelte-1hob1u8"),c(_t,"class","text"),c(yt,"id","mini-line"),c(Ve,"class","info")},m(U,ce){w(document.head,e),w(document.head,t),w(document.head,n),q(U,i,ce),Te(l,U,ce),q(U,a,ce),q(U,o,ce),w(o,s),w(s,u),w(u,m),w(s,h),w(s,d),w(s,g),w(s,T),w(T,S),w(s,C),w(s,G),w(G,j),w(j,y),w(G,_),w(G,b),w(b,P),w(G,ue),w(G,V),w(G,W),w(G,N),w(s,Q),w(s,D),w(o,H),w(o,R),w(R,p),w(p,L),w(R,re),w(R,ie),w(ie,he),w(o,de),w(o,me),w(me,fe),w(fe,rt),w(o,Pe),w(o,oe),w(o,Me),w(o,ae),Te(k,ae,null),w(o,O),w(o,A),w(A,le),w(le,I),w(I,ve),w(ve,Ue),w(I,nt),w(I,Se),w(Se,it),w(Se,mt),w(Se,Be),w(Be,It),w(Se,Lt),w(Se,Xe),w(Xe,St),w(Xe,jt),w(Se,qt),w(I,Ct),w(I,We),w(We,$e),w($e,He),se=zr(We,r[9].bind(We)),w(I,at),w(I,lt),w(lt,wt),w(le,Pt),w(le,Ae),w(o,ot),w(o,_t),w(_t,st),w(st,bt),xe.m(bt,null),w(st,Zt),w(st,vt),Ne.m(vt,null),w(o,Gt),w(o,yt),w(o,Qt),w(o,Ve),w(Ve,At),w(At,Mt),w(Ve,Xt),w(Ve,xt),w(xt,$t),w(Ve,er),w(Ve,Ut),De=!0},p(U,[ce]){const ge={};ce&2&&(ge.value=U[1]),k.$set(ge),(!De||ce&32)&&Ge(Ue,U[5]),(!De||ce&2)&&Qe!==(Qe=ye[U[1]].won+"")&&Ge(it,Qe),(!De||ce&2)&&_e!==(_e=ye[U[1]].year+"")&&Ge(It,_e),(!De||ce&2)&&gt!==(gt=ye[U[1]].voteshare+"")&&Ge(St,gt),(!De||ce&8)&&c(He,"width",U[3]),(!De||ce&8)&&c($e,"width",U[3]),(!De||ce&64)&&Ge(wt,U[6]),(!De||ce&16&&!pn(Ae.src,Bt=U[4]))&&c(Ae,"src",Bt),(!De||ce&2&&Vt!==(Vt=ye[U[1]].fullname))&&c(Ae,"alt",Vt),ce&4&&Ye(ur,ur=U[2])?(Ie(),J(xe,1,1,Ce),Le(),xe=Ai(U),xe.c(),B(xe,1),xe.m(bt,null)):xe.p(U,ce),ce&4&&Ye(cr,cr=U[2])?(Ie(),J(Ne,1,1,Ce),Le(),Ne=Mi(U),Ne.c(),B(Ne,1),Ne.m(vt,null)):Ne.p(U,ce)},i(U){De||(B(l.$$.fragment,U),B(k.$$.fragment,U),B(xe),B(Ne),De=!0)},o(U){J(l.$$.fragment,U),J(k.$$.fragment,U),J(xe),J(Ne),De=!1},d(U){v(e),v(t),v(n),U&&v(i),Ee(l,U),U&&v(a),U&&v(o),Ee(k),se(),xe.d(U),Ne.d(U)}}}function Gs(r,e,t){let n,i,l,a,o;xi(r,Er,g=>t(1,o=g)),console.log(o);let s=!1,u=Ui.nodes.map(g=>g.id);function m(g){Ni(Er,o=g.detail.value,o),t(2,s=!s)}let h;function d(){h=this.offsetWidth,t(0,h)}return r.$$.update=()=>{r.$$.dirty&2&&t(6,n=ye[o].text),r.$$.dirty&2&&t(5,i=ye[o].fullname),r.$$.dirty&2&&ye[o].won+""+ye[o].year+ye[o].voteshare,r.$$.dirty&2&&t(4,l="candidate-photos/"+ye[o].image+".png"),r.$$.dirty&3&&t(3,a=ye[o].voteshare*h/100)},[h,o,s,a,l,i,n,u,m,d]}class Qs extends ht{constructor(e){super(),dt(this,e,Gs,Vs,Ye,{})}}export{Qs as default};
