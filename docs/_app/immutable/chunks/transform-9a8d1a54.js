function _n(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Ot(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function wt(n){let t,r,i;n.length!==2?(t=_n,r=(a,v)=>_n(n(a),v),i=(a,v)=>n(a)-v):(t=n===_n||n===Ot?n:qt,r=n,i=n);function e(a,v,p=0,o=a.length){if(p<o){if(t(v,v)!==0)return o;do{const u=p+o>>>1;r(a[u],v)<0?p=u+1:o=u}while(p<o)}return p}function l(a,v,p=0,o=a.length){if(p<o){if(t(v,v)!==0)return o;do{const u=p+o>>>1;r(a[u],v)<=0?p=u+1:o=u}while(p<o)}return p}function f(a,v,p=0,o=a.length){const u=e(a,v,p,o-1);return u>p&&i(a[u-1],v)>-i(a[u],v)?u-1:u}return{left:e,center:f,right:l}}function qt(){return 0}function Bt(n){return n===null?NaN:+n}const Zt=wt(_n),Gt=Zt.right;wt(Bt).center;const Ht=Gt;class b{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const r=this._partials;let i=0;for(let e=0;e<this._n&&e<32;e++){const l=r[e],f=t+l,a=Math.abs(t)<Math.abs(l)?t-(f-l):l-(f-t);a&&(r[i++]=a),t=f}return r[i]=t,this._n=i+1,this}valueOf(){const t=this._partials;let r=this._n,i,e,l,f=0;if(r>0){for(f=t[--r];r>0&&(i=f,e=t[--r],f=i+e,l=e-(f-i),!l););r>0&&(l<0&&t[r-1]<0||l>0&&t[r-1]>0)&&(e=l*2,i=f+e,e==i-f&&(f=i))}return f}}function*Wt(n){for(const t of n)yield*t}function Mt(n){return Array.from(Wt(n))}var T=1e-6,Jt=1e-12,m=Math.PI,B=m/2,tt=m/4,G=m*2,Z=180/m,k=m/180,X=Math.abs,Nt=Math.atan,vn=Math.atan2,C=Math.cos,Kt=Math.exp,Qt=Math.log,F=Math.sin,Ut=Math.sign||function(n){return n>0?1:n<0?-1:0},tn=Math.sqrt,Vt=Math.tan;function xt(n){return n>1?0:n<-1?m:Math.acos(n)}function Sn(n){return n>1?B:n<-1?-B:Math.asin(n)}function W(){}function Rn(n,t){n&&rt.hasOwnProperty(n.type)&&rt[n.type](n,t)}var it={Feature:function(n,t){Rn(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,i=-1,e=r.length;++i<e;)Rn(r[i].geometry,t)}},rt={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)n=r[i],t.point(n[0],n[1],n[2])},LineString:function(n,t){kn(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)kn(r[i],t,0)},Polygon:function(n,t){et(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)et(r[i],t)},GeometryCollection:function(n,t){for(var r=n.geometries,i=-1,e=r.length;++i<e;)Rn(r[i],t)}};function kn(n,t,r){var i=-1,e=n.length-r,l;for(t.lineStart();++i<e;)l=n[i],t.point(l[0],l[1],l[2]);t.lineEnd()}function et(n,t){var r=-1,i=n.length;for(t.polygonStart();++r<i;)kn(n[r],t,1);t.polygonEnd()}function en(n,t){n&&it.hasOwnProperty(n.type)?it[n.type](n,t):Rn(n,t)}function Dn(n){return[vn(n[1],n[0]),Sn(n[2])]}function ln(n){var t=n[0],r=n[1],i=C(r);return[i*C(t),i*F(t),F(r)]}function yn(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function mn(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Xn(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function wn(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function On(n){var t=tn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function qn(n,t){function r(i,e){return i=n(i,e),t(i[0],i[1])}return n.invert&&t.invert&&(r.invert=function(i,e){return i=t.invert(i,e),i&&n.invert(i[0],i[1])}),r}function Bn(n,t){return[X(n)>m?n+Math.round(-n/G)*G:n,t]}Bn.invert=Bn;function _t(n,t,r){return(n%=G)?t||r?qn(ut(n),lt(t,r)):ut(n):t||r?lt(t,r):Bn}function ot(n){return function(t,r){return t+=n,[t>m?t-G:t<-m?t+G:t,r]}}function ut(n){var t=ot(n);return t.invert=ot(-n),t}function lt(n,t){var r=C(n),i=F(n),e=C(t),l=F(t);function f(a,v){var p=C(v),o=C(a)*p,u=F(a)*p,c=F(v),h=c*r+o*i;return[vn(u*e-h*l,o*r-c*i),Sn(h*e+u*l)]}return f.invert=function(a,v){var p=C(v),o=C(a)*p,u=F(a)*p,c=F(v),h=c*e-u*l;return[vn(u*e+c*l,o*r+h*i),Sn(h*r-o*i)]},f}function jt(n){n=_t(n[0]*k,n[1]*k,n.length>2?n[2]*k:0);function t(r){return r=n(r[0]*k,r[1]*k),r[0]*=Z,r[1]*=Z,r}return t.invert=function(r){return r=n.invert(r[0]*k,r[1]*k),r[0]*=Z,r[1]*=Z,r},t}function bt(n,t,r,i,e,l){if(!!r){var f=C(t),a=F(t),v=i*r;e==null?(e=t+i*G,l=t-v/2):(e=ft(f,e),l=ft(f,l),(i>0?e<l:e>l)&&(e+=i*G));for(var p,o=e;i>0?o>l:o<l;o-=v)p=Dn([f,-a*C(o),-a*F(o)]),n.point(p[0],p[1])}}function ft(n,t){t=ln(t),t[0]-=n,On(t);var r=xt(-t[1]);return((-t[2]<0?-r:r)+G-T)%G}function Pt(){var n=[],t;return{point:function(r,i,e){t.push([r,i,e])},lineStart:function(){n.push(t=[])},lineEnd:W,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var r=n;return n=[],t=null,r}}}function Pn(n,t){return X(n[0]-t[0])<T&&X(n[1]-t[1])<T}function Mn(n,t,r,i){this.x=n,this.z=t,this.o=r,this.e=i,this.v=!1,this.n=this.p=null}function Rt(n,t,r,i,e){var l=[],f=[],a,v;if(n.forEach(function(g){if(!((w=g.length-1)<=0)){var w,S=g[0],P=g[w],E;if(Pn(S,P)){if(!S[2]&&!P[2]){for(e.lineStart(),a=0;a<w;++a)e.point((S=g[a])[0],S[1]);e.lineEnd();return}P[0]+=2*T}l.push(E=new Mn(S,g,null,!0)),f.push(E.o=new Mn(S,null,E,!1)),l.push(E=new Mn(P,g,null,!1)),f.push(E.o=new Mn(P,null,E,!0))}}),!!l.length){for(f.sort(t),ct(l),ct(f),a=0,v=f.length;a<v;++a)f[a].e=r=!r;for(var p=l[0],o,u;;){for(var c=p,h=!0;c.v;)if((c=c.n)===p)return;o=c.z,e.lineStart();do{if(c.v=c.o.v=!0,c.e){if(h)for(a=0,v=o.length;a<v;++a)e.point((u=o[a])[0],u[1]);else i(c.x,c.n.x,1,e);c=c.n}else{if(h)for(o=c.p.z,a=o.length-1;a>=0;--a)e.point((u=o[a])[0],u[1]);else i(c.x,c.p.x,-1,e);c=c.p}c=c.o,o=c.z,h=!h}while(!c.v);e.lineEnd()}}}function ct(n){if(!!(t=n.length)){for(var t,r=0,i=n[0],e;++r<t;)i.n=e=n[r],e.p=i,i=e;i.n=e=n[0],e.p=i}}function Yn(n){return X(n[0])<=m?n[0]:Ut(n[0])*((X(n[0])+m)%G-m)}function ni(n,t){var r=Yn(t),i=t[1],e=F(i),l=[F(r),-C(r),0],f=0,a=0,v=new b;e===1?i=B+T:e===-1&&(i=-B-T);for(var p=0,o=n.length;p<o;++p)if(!!(c=(u=n[p]).length))for(var u,c,h=u[c-1],g=Yn(h),w=h[1]/2+tt,S=F(w),P=C(w),E=0;E<c;++E,g=d,S=_,P=L,h=M){var M=u[E],d=Yn(M),N=M[1]/2+tt,_=F(N),L=C(N),A=d-g,I=A>=0?1:-1,$=I*A,y=$>m,O=S*_;if(v.add(vn(O*I*F($),P*L+O*C($))),f+=y?A+I*G:A,y^g>=r^d>=r){var Y=mn(ln(h),ln(M));On(Y);var z=mn(l,Y);On(z);var s=(y^A>=0?-1:1)*Sn(z[2]);(i>s||i===s&&(Y[0]||Y[1]))&&(a+=y^A>=0?1:-1)}}return(f<-T||f<T&&v<-Jt)^a&1}function mt(n,t,r,i){return function(e){var l=t(e),f=Pt(),a=t(f),v=!1,p,o,u,c={point:h,lineStart:w,lineEnd:S,polygonStart:function(){c.point=P,c.lineStart=E,c.lineEnd=M,o=[],p=[]},polygonEnd:function(){c.point=h,c.lineStart=w,c.lineEnd=S,o=Mt(o);var d=ni(p,i);o.length?(v||(e.polygonStart(),v=!0),Rt(o,ii,d,r,e)):d&&(v||(e.polygonStart(),v=!0),e.lineStart(),r(null,null,1,e),e.lineEnd()),v&&(e.polygonEnd(),v=!1),o=p=null},sphere:function(){e.polygonStart(),e.lineStart(),r(null,null,1,e),e.lineEnd(),e.polygonEnd()}};function h(d,N){n(d,N)&&e.point(d,N)}function g(d,N){l.point(d,N)}function w(){c.point=g,l.lineStart()}function S(){c.point=h,l.lineEnd()}function P(d,N){u.push([d,N]),a.point(d,N)}function E(){a.lineStart(),u=[]}function M(){P(u[0][0],u[0][1]),a.lineEnd();var d=a.clean(),N=f.result(),_,L=N.length,A,I,$;if(u.pop(),p.push(u),u=null,!!L){if(d&1){if(I=N[0],(A=I.length-1)>0){for(v||(e.polygonStart(),v=!0),e.lineStart(),_=0;_<A;++_)e.point(($=I[_])[0],$[1]);e.lineEnd()}return}L>1&&d&2&&N.push(N.pop().concat(N.shift())),o.push(N.filter(ti))}}return c}}function ti(n){return n.length>1}function ii(n,t){return((n=n.x)[0]<0?n[1]-B-T:B-n[1])-((t=t.x)[0]<0?t[1]-B-T:B-t[1])}const at=mt(function(){return!0},ri,oi,[-m,-B]);function ri(n){var t=NaN,r=NaN,i=NaN,e;return{lineStart:function(){n.lineStart(),e=1},point:function(l,f){var a=l>0?m:-m,v=X(l-t);X(v-m)<T?(n.point(t,r=(r+f)/2>0?B:-B),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(a,r),n.point(l,r),e=0):i!==a&&v>=m&&(X(t-i)<T&&(t-=i*T),X(l-a)<T&&(l-=a*T),r=ei(t,r,l,f),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(a,r),e=0),n.point(t=l,r=f),i=a},lineEnd:function(){n.lineEnd(),t=r=NaN},clean:function(){return 2-e}}}function ei(n,t,r,i){var e,l,f=F(n-r);return X(f)>T?Nt((F(t)*(l=C(i))*F(r)-F(i)*(e=C(t))*F(n))/(e*l*f)):(t+i)/2}function oi(n,t,r,i){var e;if(n==null)e=r*B,i.point(-m,e),i.point(0,e),i.point(m,e),i.point(m,0),i.point(m,-e),i.point(0,-e),i.point(-m,-e),i.point(-m,0),i.point(-m,e);else if(X(n[0]-t[0])>T){var l=n[0]<t[0]?m:-m;e=r*l/2,i.point(-l,e),i.point(0,e),i.point(l,e)}else i.point(t[0],t[1])}function ui(n){var t=C(n),r=6*k,i=t>0,e=X(t)>T;function l(o,u,c,h){bt(h,n,r,c,o,u)}function f(o,u){return C(o)*C(u)>t}function a(o){var u,c,h,g,w;return{lineStart:function(){g=h=!1,w=1},point:function(S,P){var E=[S,P],M,d=f(S,P),N=i?d?0:p(S,P):d?p(S+(S<0?m:-m),P):0;if(!u&&(g=h=d)&&o.lineStart(),d!==h&&(M=v(u,E),(!M||Pn(u,M)||Pn(E,M))&&(E[2]=1)),d!==h)w=0,d?(o.lineStart(),M=v(E,u),o.point(M[0],M[1])):(M=v(u,E),o.point(M[0],M[1],2),o.lineEnd()),u=M;else if(e&&u&&i^d){var _;!(N&c)&&(_=v(E,u,!0))&&(w=0,i?(o.lineStart(),o.point(_[0][0],_[0][1]),o.point(_[1][0],_[1][1]),o.lineEnd()):(o.point(_[1][0],_[1][1]),o.lineEnd(),o.lineStart(),o.point(_[0][0],_[0][1],3)))}d&&(!u||!Pn(u,E))&&o.point(E[0],E[1]),u=E,h=d,c=N},lineEnd:function(){h&&o.lineEnd(),u=null},clean:function(){return w|(g&&h)<<1}}}function v(o,u,c){var h=ln(o),g=ln(u),w=[1,0,0],S=mn(h,g),P=yn(S,S),E=S[0],M=P-E*E;if(!M)return!c&&o;var d=t*P/M,N=-t*E/M,_=mn(w,S),L=wn(w,d),A=wn(S,N);Xn(L,A);var I=_,$=yn(L,I),y=yn(I,I),O=$*$-y*(yn(L,L)-1);if(!(O<0)){var Y=tn(O),z=wn(I,(-$-Y)/y);if(Xn(z,L),z=Dn(z),!c)return z;var s=o[0],R=u[0],D=o[1],q=u[1],H;R<s&&(H=s,s=R,R=H);var cn=R-s,U=X(cn-m)<T,j=U||cn<T;if(!U&&q<D&&(H=D,D=q,q=H),j?U?D+q>0^z[1]<(X(z[0]-s)<T?D:q):D<=z[1]&&z[1]<=q:cn>m^(s<=z[0]&&z[0]<=R)){var V=wn(I,(-$+Y)/y);return Xn(V,L),[z,Dn(V)]}}}function p(o,u){var c=i?n:m-n,h=0;return o<-c?h|=1:o>c&&(h|=2),u<-c?h|=4:u>c&&(h|=8),h}return mt(f,a,l,i?[0,-n]:[-m,n-m])}function li(n,t,r,i,e,l){var f=n[0],a=n[1],v=t[0],p=t[1],o=0,u=1,c=v-f,h=p-a,g;if(g=r-f,!(!c&&g>0)){if(g/=c,c<0){if(g<o)return;g<u&&(u=g)}else if(c>0){if(g>u)return;g>o&&(o=g)}if(g=e-f,!(!c&&g<0)){if(g/=c,c<0){if(g>u)return;g>o&&(o=g)}else if(c>0){if(g<o)return;g<u&&(u=g)}if(g=i-a,!(!h&&g>0)){if(g/=h,h<0){if(g<o)return;g<u&&(u=g)}else if(h>0){if(g>u)return;g>o&&(o=g)}if(g=l-a,!(!h&&g<0)){if(g/=h,h<0){if(g>u)return;g>o&&(o=g)}else if(h>0){if(g<o)return;g<u&&(u=g)}return o>0&&(n[0]=f+o*c,n[1]=a+o*h),u<1&&(t[0]=f+u*c,t[1]=a+u*h),!0}}}}}var an=1e9,Nn=-an;function fi(n,t,r,i){function e(p,o){return n<=p&&p<=r&&t<=o&&o<=i}function l(p,o,u,c){var h=0,g=0;if(p==null||(h=f(p,u))!==(g=f(o,u))||v(p,o)<0^u>0)do c.point(h===0||h===3?n:r,h>1?i:t);while((h=(h+u+4)%4)!==g);else c.point(o[0],o[1])}function f(p,o){return X(p[0]-n)<T?o>0?0:3:X(p[0]-r)<T?o>0?2:1:X(p[1]-t)<T?o>0?1:0:o>0?3:2}function a(p,o){return v(p.x,o.x)}function v(p,o){var u=f(p,1),c=f(o,1);return u!==c?u-c:u===0?o[1]-p[1]:u===1?p[0]-o[0]:u===2?p[1]-o[1]:o[0]-p[0]}return function(p){var o=p,u=Pt(),c,h,g,w,S,P,E,M,d,N,_,L={point:A,lineStart:O,lineEnd:Y,polygonStart:$,polygonEnd:y};function A(s,R){e(s,R)&&o.point(s,R)}function I(){for(var s=0,R=0,D=h.length;R<D;++R)for(var q=h[R],H=1,cn=q.length,U=q[0],j,V,En=U[0],rn=U[1];H<cn;++H)j=En,V=rn,U=q[H],En=U[0],rn=U[1],V<=i?rn>i&&(En-j)*(i-V)>(rn-V)*(n-j)&&++s:rn<=i&&(En-j)*(i-V)<(rn-V)*(n-j)&&--s;return s}function $(){o=u,c=[],h=[],_=!0}function y(){var s=I(),R=_&&s,D=(c=Mt(c)).length;(R||D)&&(p.polygonStart(),R&&(p.lineStart(),l(null,null,1,p),p.lineEnd()),D&&Rt(c,a,s,l,p),p.polygonEnd()),o=p,c=h=g=null}function O(){L.point=z,h&&h.push(g=[]),N=!0,d=!1,E=M=NaN}function Y(){c&&(z(w,S),P&&d&&u.rejoin(),c.push(u.result())),L.point=A,d&&o.lineEnd()}function z(s,R){var D=e(s,R);if(h&&g.push([s,R]),N)w=s,S=R,P=D,N=!1,D&&(o.lineStart(),o.point(s,R));else if(D&&d)o.point(s,R);else{var q=[E=Math.max(Nn,Math.min(an,E)),M=Math.max(Nn,Math.min(an,M))],H=[s=Math.max(Nn,Math.min(an,s)),R=Math.max(Nn,Math.min(an,R))];li(q,H,n,t,r,i)?(d||(o.lineStart(),o.point(q[0],q[1])),o.point(H[0],H[1]),D||o.lineEnd(),_=!1):D&&(o.lineStart(),o.point(s,R),_=!1)}E=s,M=R,d=D}return L}}const Zn=n=>n;var Cn=new b,Gn=new b,At,It,Hn,Wn,x={point:W,lineStart:W,lineEnd:W,polygonStart:function(){x.lineStart=ci,x.lineEnd=si},polygonEnd:function(){x.lineStart=x.lineEnd=x.point=W,Cn.add(X(Gn)),Gn=new b},result:function(){var n=Cn/2;return Cn=new b,n}};function ci(){x.point=ai}function ai(n,t){x.point=Lt,At=Hn=n,It=Wn=t}function Lt(n,t){Gn.add(Wn*n-Hn*t),Hn=n,Wn=t}function si(){Lt(At,It)}const st=x;var fn=1/0,An=fn,dn=-fn,In=dn,pi={point:hi,lineStart:W,lineEnd:W,polygonStart:W,polygonEnd:W,result:function(){var n=[[fn,An],[dn,In]];return dn=In=-(An=fn=1/0),n}};function hi(n,t){n<fn&&(fn=n),n>dn&&(dn=n),t<An&&(An=t),t>In&&(In=t)}const Ln=pi;var Jn=0,Kn=0,sn=0,zn=0,Tn=0,on=0,Qn=0,Un=0,pn=0,zt,Tt,K,Q,J={point:nn,lineStart:pt,lineEnd:ht,polygonStart:function(){J.lineStart=Si,J.lineEnd=di},polygonEnd:function(){J.point=nn,J.lineStart=pt,J.lineEnd=ht},result:function(){var n=pn?[Qn/pn,Un/pn]:on?[zn/on,Tn/on]:sn?[Jn/sn,Kn/sn]:[NaN,NaN];return Jn=Kn=sn=zn=Tn=on=Qn=Un=pn=0,n}};function nn(n,t){Jn+=n,Kn+=t,++sn}function pt(){J.point=gi}function gi(n,t){J.point=vi,nn(K=n,Q=t)}function vi(n,t){var r=n-K,i=t-Q,e=tn(r*r+i*i);zn+=e*(K+n)/2,Tn+=e*(Q+t)/2,on+=e,nn(K=n,Q=t)}function ht(){J.point=nn}function Si(){J.point=Ei}function di(){$t(zt,Tt)}function Ei(n,t){J.point=$t,nn(zt=K=n,Tt=Q=t)}function $t(n,t){var r=n-K,i=t-Q,e=tn(r*r+i*i);zn+=e*(K+n)/2,Tn+=e*(Q+t)/2,on+=e,e=Q*n-K*t,Qn+=e*(K+n),Un+=e*(Q+t),pn+=e*3,nn(K=n,Q=t)}const gt=J;function Xt(n){this._context=n}Xt.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._context.moveTo(n,t),this._point=1;break}case 1:{this._context.lineTo(n,t);break}default:{this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,G);break}}},result:W};var Vn=new b,Fn,Yt,Ct,hn,gn,$n={point:W,lineStart:function(){$n.point=yi},lineEnd:function(){Fn&&Ft(Yt,Ct),$n.point=W},polygonStart:function(){Fn=!0},polygonEnd:function(){Fn=null},result:function(){var n=+Vn;return Vn=new b,n}};function yi(n,t){$n.point=Ft,Yt=hn=n,Ct=gn=t}function Ft(n,t){hn-=n,gn-=t,Vn.add(tn(hn*hn+gn*gn)),hn=n,gn=t}const vt=$n;function kt(){this._string=[]}kt.prototype={_radius:4.5,_circle:St(4.5),pointRadius:function(n){return(n=+n)!==this._radius&&(this._radius=n,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._string.push("M",n,",",t),this._point=1;break}case 1:{this._string.push("L",n,",",t);break}default:{this._circle==null&&(this._circle=St(this._radius)),this._string.push("M",n,",",t,this._circle);break}}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}else return null}};function St(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function Yi(n,t){var r=4.5,i,e;function l(f){return f&&(typeof r=="function"&&e.pointRadius(+r.apply(this,arguments)),en(f,i(e))),e.result()}return l.area=function(f){return en(f,i(st)),st.result()},l.measure=function(f){return en(f,i(vt)),vt.result()},l.bounds=function(f){return en(f,i(Ln)),Ln.result()},l.centroid=function(f){return en(f,i(gt)),gt.result()},l.projection=function(f){return arguments.length?(i=f==null?(n=null,Zn):(n=f).stream,l):n},l.context=function(f){return arguments.length?(e=f==null?(t=null,new kt):new Xt(t=f),typeof r!="function"&&e.pointRadius(r),l):t},l.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(e.pointRadius(+f),+f),l):r},l.projection(n).context(t)}function jn(n){return function(t){var r=new xn;for(var i in n)r[i]=n[i];return r.stream=t,r}}function xn(){}xn.prototype={constructor:xn,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function bn(n,t,r){var i=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),i!=null&&n.clipExtent(null),en(r,n.stream(Ln)),t(Ln.result()),i!=null&&n.clipExtent(i),n}function Dt(n,t,r){return bn(n,function(i){var e=t[1][0]-t[0][0],l=t[1][1]-t[0][1],f=Math.min(e/(i[1][0]-i[0][0]),l/(i[1][1]-i[0][1])),a=+t[0][0]+(e-f*(i[1][0]+i[0][0]))/2,v=+t[0][1]+(l-f*(i[1][1]+i[0][1]))/2;n.scale(150*f).translate([a,v])},r)}function wi(n,t,r){return Dt(n,[[0,0],t],r)}function Mi(n,t,r){return bn(n,function(i){var e=+t,l=e/(i[1][0]-i[0][0]),f=(e-l*(i[1][0]+i[0][0]))/2,a=-l*i[0][1];n.scale(150*l).translate([f,a])},r)}function Ni(n,t,r){return bn(n,function(i){var e=+t,l=e/(i[1][1]-i[0][1]),f=-l*i[0][0],a=(e-l*(i[1][1]+i[0][1]))/2;n.scale(150*l).translate([f,a])},r)}var dt=16,_i=C(30*k);function Et(n,t){return+t?Ri(n,t):Pi(n)}function Pi(n){return jn({point:function(t,r){t=n(t,r),this.stream.point(t[0],t[1])}})}function Ri(n,t){function r(i,e,l,f,a,v,p,o,u,c,h,g,w,S){var P=p-i,E=o-e,M=P*P+E*E;if(M>4*t&&w--){var d=f+c,N=a+h,_=v+g,L=tn(d*d+N*N+_*_),A=Sn(_/=L),I=X(X(_)-1)<T||X(l-u)<T?(l+u)/2:vn(N,d),$=n(I,A),y=$[0],O=$[1],Y=y-i,z=O-e,s=E*Y-P*z;(s*s/M>t||X((P*Y+E*z)/M-.5)>.3||f*c+a*h+v*g<_i)&&(r(i,e,l,f,a,v,y,O,I,d/=L,N/=L,_,w,S),S.point(y,O),r(y,O,I,d,N,_,p,o,u,c,h,g,w,S))}}return function(i){var e,l,f,a,v,p,o,u,c,h,g,w,S={point:P,lineStart:E,lineEnd:d,polygonStart:function(){i.polygonStart(),S.lineStart=N},polygonEnd:function(){i.polygonEnd(),S.lineStart=E}};function P(A,I){A=n(A,I),i.point(A[0],A[1])}function E(){u=NaN,S.point=M,i.lineStart()}function M(A,I){var $=ln([A,I]),y=n(A,I);r(u,c,o,h,g,w,u=y[0],c=y[1],o=A,h=$[0],g=$[1],w=$[2],dt,i),i.point(u,c)}function d(){S.point=P,i.lineEnd()}function N(){E(),S.point=_,S.lineEnd=L}function _(A,I){M(e=A,I),l=u,f=c,a=h,v=g,p=w,S.point=M}function L(){r(u,c,o,h,g,w,l,f,e,a,v,p,dt,i),S.lineEnd=d,d()}return S}}var mi=jn({point:function(n,t){this.stream.point(n*k,t*k)}});function Ai(n){return jn({point:function(t,r){var i=n(t,r);return this.stream.point(i[0],i[1])}})}function Ii(n,t,r,i,e){function l(f,a){return f*=i,a*=e,[t+n*f,r-n*a]}return l.invert=function(f,a){return[(f-t)/n*i,(r-a)/n*e]},l}function yt(n,t,r,i,e,l){if(!l)return Ii(n,t,r,i,e);var f=C(l),a=F(l),v=f*n,p=a*n,o=f/n,u=a/n,c=(a*r-f*t)/n,h=(a*t+f*r)/n;function g(w,S){return w*=i,S*=e,[v*w-p*S+t,r-p*w-v*S]}return g.invert=function(w,S){return[i*(o*w-u*S+c),e*(h-u*w-o*S)]},g}function Li(n){return zi(function(){return n})()}function zi(n){var t,r=150,i=480,e=250,l=0,f=0,a=0,v=0,p=0,o,u=0,c=1,h=1,g=null,w=at,S=null,P,E,M,d=Zn,N=.5,_,L,A,I,$;function y(s){return A(s[0]*k,s[1]*k)}function O(s){return s=A.invert(s[0],s[1]),s&&[s[0]*Z,s[1]*Z]}y.stream=function(s){return I&&$===s?I:I=mi(Ai(o)(w(_(d($=s)))))},y.preclip=function(s){return arguments.length?(w=s,g=void 0,z()):w},y.postclip=function(s){return arguments.length?(d=s,S=P=E=M=null,z()):d},y.clipAngle=function(s){return arguments.length?(w=+s?ui(g=s*k):(g=null,at),z()):g*Z},y.clipExtent=function(s){return arguments.length?(d=s==null?(S=P=E=M=null,Zn):fi(S=+s[0][0],P=+s[0][1],E=+s[1][0],M=+s[1][1]),z()):S==null?null:[[S,P],[E,M]]},y.scale=function(s){return arguments.length?(r=+s,Y()):r},y.translate=function(s){return arguments.length?(i=+s[0],e=+s[1],Y()):[i,e]},y.center=function(s){return arguments.length?(l=s[0]%360*k,f=s[1]%360*k,Y()):[l*Z,f*Z]},y.rotate=function(s){return arguments.length?(a=s[0]%360*k,v=s[1]%360*k,p=s.length>2?s[2]%360*k:0,Y()):[a*Z,v*Z,p*Z]},y.angle=function(s){return arguments.length?(u=s%360*k,Y()):u*Z},y.reflectX=function(s){return arguments.length?(c=s?-1:1,Y()):c<0},y.reflectY=function(s){return arguments.length?(h=s?-1:1,Y()):h<0},y.precision=function(s){return arguments.length?(_=Et(L,N=s*s),z()):tn(N)},y.fitExtent=function(s,R){return Dt(y,s,R)},y.fitSize=function(s,R){return wi(y,s,R)},y.fitWidth=function(s,R){return Mi(y,s,R)},y.fitHeight=function(s,R){return Ni(y,s,R)};function Y(){var s=yt(r,0,0,c,h,u).apply(null,t(l,f)),R=yt(r,i-s[0],e-s[1],c,h,u);return o=_t(a,v,p),L=qn(t,R),A=qn(o,L),_=Et(L,N),z()}function z(){return I=$=null,y}return function(){return t=n.apply(this,arguments),y.invert=t.invert&&O,Y()}}function nt(n,t){return[n,Qt(Vt((B+t)/2))]}nt.invert=function(n,t){return[n,2*Nt(Kt(t))-B]};function Ci(){return Ti(nt).scale(961/G)}function Ti(n){var t=Li(n),r=t.center,i=t.scale,e=t.translate,l=t.clipExtent,f=null,a,v,p;t.scale=function(u){return arguments.length?(i(u),o()):i()},t.translate=function(u){return arguments.length?(e(u),o()):e()},t.center=function(u){return arguments.length?(r(u),o()):r()},t.clipExtent=function(u){return arguments.length?(u==null?f=a=v=p=null:(f=+u[0][0],a=+u[0][1],v=+u[1][0],p=+u[1][1]),o()):f==null?null:[[f,a],[v,p]]};function o(){var u=m*i(),c=t(jt(t.rotate()).invert([0,0]));return l(f==null?[[c[0]-u,c[1]-u],[c[0]+u,c[1]+u]]:n===nt?[[Math.max(c[0]-u,f),a],[Math.min(c[0]+u,v),p]]:[[f,Math.max(c[1]-u,a)],[v,Math.min(c[1]+u,p)]])}return o()}function $i(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}function Xi(){var n=[.5],t=[0,1],r,i=1;function e(l){return l!=null&&l<=l?t[Ht(n,l,0,i)]:r}return e.domain=function(l){return arguments.length?(n=Array.from(l),i=Math.min(n.length,t.length-1),e):n.slice()},e.range=function(l){return arguments.length?(t=Array.from(l),i=Math.min(n.length,t.length-1),e):t.slice()},e.invertExtent=function(l){var f=t.indexOf(l);return[n[f-1],n[f]]},e.unknown=function(l){return arguments.length?(r=l,e):r},e.copy=function(){return Xi().domain(n).range(t).unknown(r)},$i.apply(e,arguments)}function un(n,t,r){this.k=n,this.x=t,this.y=r}un.prototype={constructor:un,scale:function(n){return n===1?this:new un(this.k*n,this.x,this.y)},translate:function(n,t){return n===0&t===0?this:new un(this.k,this.x+this.k*n,this.y+this.k*t)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new un(1,0,0);un.prototype;export{Yi as a,Ci as g,Xi as t};
